{"version":3,"sources":["components/Footer/Footer.tsx","actions/users/logoutUser.tsx","constants/userConstants.tsx","components/SearchBox.tsx","components/Header/Header.tsx","components/Message/Message.tsx","actions/cart/addToCart.tsx","constants/cartConstants.tsx","actions/cart/removeFromCart.tsx","screens/CartScreen.tsx","components/Rating/Rating.tsx","components/Product/Product.tsx","components/Loader/Loader.tsx","components/Paginate.tsx","utils/utils.tsx","screens/HomeScreen.tsx","components/FormContainer/FormContainer.tsx","screens/LoginScreen.tsx","actions/users/loginUser.tsx","actions/products/productDetailsAction.tsx","constants/productConst.tsx","screens/ProductDetailScreen.tsx","actions/users/updateUser.tsx","actions/order/getUserOrdes.tsx","constants/orderConstants.tsx","screens/ProfileScreen.tsx","actions/users/registerUser.tsx","screens/RegisterScreen.tsx","components/CheckoutSteps.tsx/CheckoutSteps.tsx","screens/ShippingScreen.tsx","actions/cart/savePaymentMethod.tsx","screens/PaymentScreen.tsx","actions/order/createOrder.tsx","actions/cart/resetCart.tsx","screens/PlaceOrderScreen.tsx","actions/order/getOrder.tsx","actions/order/payOrder.tsx","components/Paypal.tsx","screens/OrderScreen.tsx","actions/users/getUserList.tsx","actions/users/deleteUser.tsx","screens/UserListScreen.tsx","actions/users/getUserDetails.tsx","screens/UserEditScreen.tsx","screens/ProductListScreen.tsx","screens/ProductEditScreen.tsx","screens/OrderListScreen.tsx","App.tsx","reducers/products/productListReducer.tsx","reducers/products/productDetailsReducer.tsx","reducers/cart/cartReducer.tsx","reducers/users/userReducer.tsx","reducers/order/orderReducer.tsx","store/store.tsx","index.tsx"],"names":["Footer","Container","Row","Col","className","logoutUser","dispatch","getState","a","config","headers","Authorization","JSON","parse","localStorage","getItem","removeItem","Axios","get","type","payload","response","data","message","SearchBox","history","useState","keyword","setKeyword","Form","onSubmit","e","preventDefault","trim","push","inline","Control","name","value","onChange","target","placeholder","Button","variant","Header","userInfo","useSelector","state","user","useDispatch","Navbar","bg","expand","collapseOnSelect","sticky","to","Brand","Toggle","aria-controls","Collapse","id","render","Nav","Link","NavDropdown","title","Item","onClick","Divider","isAdmin","Message","children","window","location","reload","style","cursor","Alert","defaultProps","addToCart","qty","product","item","image","price","countInStock","_id","setItem","stringify","cart","cartItems","console","log","removeFromCart","error","CartScreen","match","productId","params","search","Number","split","useEffect","Helmet","content","md","length","ListGroup","map","key","Image","src","alt","fluid","rounded","as","Array","x","i","Card","reduce","acc","toFixed","disabled","Rating","text","color","Product","props","Img","Body","Title","Text","rating","numReviews","Loader","Spinner","animation","role","width","height","margin","display","Paginate","totalPages","setPage","page","Pagination","active","getConfig","token","Home","loading","setLoading","products","setProducts","pageSize","setTotalPages","getProducts","options","post","then","res","catch","Carousel","pause","Caption","sm","lg","xl","FormContainer","xs","LoginScreen","email","setEmail","password","setPassword","formError","setFormError","loginError","redirect","href","marginTop","marginBottom","formPassed","document","getElementById","textContent","loginUser","Group","controlId","Label","getProductDetails","ProductDetail","setQty","setRating","comment","setComment","reviewError","setReviewError","reviewLoading","setReviewLoading","productDetails","qtyValues","brand","category","description","reviews","review","createdAt","substring","alert","required","updateUser","updatedUser","put","getUserOrders","userOrders","ProfileScreen","setName","isChangePassword","rePassword","setRePassword","updateError","order","userOrdersLoading","userOrdersError","Table","hover","responsive","totalPrice","isPaid","paidAt","isDelivered","deliveredAt","registerUser","RegisterScreen","registerError","CheckoutSteps","step1","step2","step3","step4","ShippingScreen","street","setStreet","sitio","setSitio","barangay","setBaranggay","city","setCity","mobile","setMobile","shippingAddress","savePaymentMethod","method","PaymentScreen","paymentMethod","setPaymentMethod","Check","label","createOrder","resetCart","PlaceOrderScreen","createError","cashOnHand","setCashOnHand","itemsPrice","taxPrice","Math","floor","capitalize","s","toUpperCase","slice","placeOrderHandler","shippingPrice","orderItems","getOrder","payOrder","orderId","paymentResult","updatedOrder","Paypal","clientId","setClientId","total","client","sandbox","production","env","currency","onError","err","paymentError","onSuccess","payment","paymentSuccess","onCancel","paymentCancelled","size","shape","OrderScreen","payLoading","getOrderError","paymentID","status","paid","email_address","update_time","Date","now","toString","getUserList","userList","deleteUser","delete","UserListScreen","userDeleteResponse","userListLoading","userListError","striped","confirm","getUserDetails","UserEditScreen","setIsAdmin","userDetails","checked","ProductListScreen","deleteError","setDeleteError","deleteHandler","ProductEditScreen","setProduct","isCreateProduct","setIsCreateProduct","uploading","setUploading","setError","uploadFileHandler","file","files","formData","FormData","append","imageUrl","newProduct","updatedProduct","File","custom","orders","setOrders","wordWrap","minWidth","maxWidth","App","path","component","OrderListScreen","exact","productListReducer","action","productDetailsReducer","cartReducer","newItem","itemExists","find","currentItem","filter","userReducer","authError","userDeleteLoading","userDeleteError","orderReducer","orderPayError","initialState","rootReducer","combineReducers","productList","middleware","thunk","store","createStore","composeWithDevTools","applyMiddleware","ReactDOM"],"mappings":"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","file":"static/js/main.59357f52.chunk.js","sourcesContent":["import React from 'react'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Container from 'react-bootstrap/esm/Container'\r\nimport './Footer.css'\r\n\r\nconst Footer = () => {\r\n\treturn (\r\n\t\t<footer>\r\n\t\t\t<Container>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"text-center py-3\">\r\n\t\t\t\t\t\tCopyright &copy; ProStore\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Container>\r\n\t\t</footer>\r\n\t)\r\n}\r\n\r\nexport default Footer\r\n","import Axios from 'axios'\r\nimport { USER_LOGOUT, USER_LOGOUT_FAIL } from '../../constants/userConstants'\r\n\r\nexport const logoutUser = () => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${JSON.parse(localStorage.getItem('token'))}`,\r\n\t\t\t},\r\n\t\t}\r\n\t\tlocalStorage.removeItem('userInfo')\r\n\t\tawait Axios.get('/api/users/logout', config)\r\n\t\tdispatch({ type: USER_LOGOUT })\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOGOUT_FAIL,\r\n\t\t\tpayload: error.response?.data?.message\r\n\t\t\t\t? error.response.data.message\r\n\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default logoutUser\r\n","export const USER_LOGIN_REQUEST = 'USER_LOGIN_REQUEST'\r\nexport const USER_LOGIN_SUCCESS = 'USER_LOGIN_SUCCESS'\r\nexport const USER_LOGIN_FAIL = 'USER_LOGIN_FAIL'\r\n\r\nexport const USER_LOGOUT = 'USER_LOOUT'\r\nexport const USER_LOGOUT_FAIL = 'USER_LOOUT_FAIL'\r\n\r\nexport const USER_REGISTER_REQUEST = 'USER_REGISTER_REQUEST'\r\nexport const USER_REGISTER_SUCCESS = 'USER_REGISTER_SUCCESS'\r\nexport const USER_REGISTER_FAIL = 'USER_REGISTER_FAIL'\r\n\r\nexport const USER_DETAILS_REQUEST = 'USER_DETAILS_REQUEST'\r\nexport const USER_DETAILS_SUCCESS = 'USER_DETAILS_SUCCESS'\r\nexport const USER_DETAILS_FAIL = 'USER_DETAILS_FAIL'\r\n\r\nexport const USER_UPDATE_REQUEST = 'USER_UPDATE_REQUEST'\r\nexport const USER_UPDATE_SUCCESS = 'USER_UPDATE_SUCCESS'\r\nexport const USER_UPDATE_FAIL = 'USER_UPDATE_FAIL'\r\nexport const USER_UPDATE_RESET = 'USER_DETAILS_RESET'\r\n\r\nexport const USER_AUTH_SUCCESS = 'USER_AUTH_SUCCESS'\r\nexport const USER_AUTH_FAIL = 'USER_AUTH_FAIL'\r\n\r\nexport const USER_LIST_REQUEST = 'USER_LIST_REQUEST'\r\nexport const USER_LIST_SUCCESS = 'USER_LIST_SUCCESS'\r\nexport const USER_LIST_FAIL = 'USER_LIST_FAIL'\r\n\r\nexport const USER_DELETE_REQUEST = 'USER_DELETE_REQUEST'\r\nexport const USER_DELETE_SUCCESS = 'USER_DELETE_SUCCESS'\r\nexport const USER_DELETE_FAIL = 'USER_DELETE_FAIL'\r\n","import React, { useState } from 'react'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nconst SearchBox = ({ history }) => {\r\n\tconst [keyword, setKeyword] = useState('')\r\n\r\n\t// HANDLERS\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault()\r\n\t\tif (keyword.trim()) {\r\n\t\t\thistory.push(`/search/${keyword}`)\r\n\t\t} else history.push('/')\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Form onSubmit={submitHandler} inline>\r\n\t\t\t<Form.Control\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tname=\"q\"\r\n\t\t\t\tvalue={keyword}\r\n\t\t\t\tonChange={(e) => setKeyword(e.target.value)}\r\n\t\t\t\tplaceholder=\"search product...\"\r\n\t\t\t\tclassName=\"mr-sm-2 ml-sm-5\"\r\n\t\t\t></Form.Control>\r\n\t\t\t<Button type=\"submit\" variant=\"outline-success\" className=\"p-2\">\r\n\t\t\t\tSearch\r\n\t\t\t</Button>\r\n\t\t</Form>\r\n\t)\r\n}\r\n\r\nexport default SearchBox\r\n","import React from 'react'\r\nimport { Route } from 'react-router-dom'\r\nimport './Header.css'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Navbar from 'react-bootstrap/Navbar'\r\nimport Nav from 'react-bootstrap/Nav'\r\nimport NavDropdown from 'react-bootstrap/NavDropdown'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport logoutUser from '../../actions/users/logoutUser'\r\nimport SearchBox from '../SearchBox'\r\n\r\nconst Header = () => {\r\n\tconst { userInfo } = useSelector((state) => state.user)\r\n\tconst dispatch = useDispatch()\r\n\r\n\t// HANDLERS\r\n\tconst logoutHandler = (e) => {\r\n\t\te.preventDefault()\r\n\t\tdispatch(logoutUser())\r\n\t\t/* window.location.reload() */\r\n\t}\r\n\r\n\treturn (\r\n\t\t<header>\r\n\t\t\t<Navbar\r\n\t\t\t\tvariant=\"dark\"\r\n\t\t\t\tbg=\"dark\"\r\n\t\t\t\texpand=\"lg\"\r\n\t\t\t\tcollapseOnSelect\r\n\t\t\t\tsticky=\"top\"\r\n\t\t\t>\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t<LinkContainer to=\"/\">\r\n\t\t\t\t\t\t<Navbar.Brand>Pro Store</Navbar.Brand>\r\n\t\t\t\t\t</LinkContainer>\r\n\r\n\t\t\t\t\t<Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n\r\n\t\t\t\t\t<Navbar.Collapse id=\"basic-navbar-nav\">\r\n\t\t\t\t\t\t<Route render={({ history }) => <SearchBox history={history} />} />\r\n\t\t\t\t\t\t{/* margin left auto */}\r\n\t\t\t\t\t\t<Nav className=\"ml-auto\">\r\n\t\t\t\t\t\t\t<LinkContainer to=\"/cart/\">\r\n\t\t\t\t\t\t\t\t<Nav.Link>\r\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-shopping-cart px-1\"></i>\r\n\t\t\t\t\t\t\t\t\tCart\r\n\t\t\t\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t\t\t\t</LinkContainer>\r\n\r\n\t\t\t\t\t\t\t{userInfo ? (\r\n\t\t\t\t\t\t\t\t<NavDropdown title={userInfo.name} id=\"basic-nav-dropdown\">\r\n\t\t\t\t\t\t\t\t\t<LinkContainer to=\"/profile\">\r\n\t\t\t\t\t\t\t\t\t\t<NavDropdown.Item>My Profile</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\r\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item onClick={logoutHandler}>\r\n\t\t\t\t\t\t\t\t\t\tLogout\r\n\t\t\t\t\t\t\t\t\t</NavDropdown.Item>\r\n\r\n\t\t\t\t\t\t\t\t\t<NavDropdown.Divider />\r\n\r\n\t\t\t\t\t\t\t\t\t<LinkContainer to=\"/profile\">\r\n\t\t\t\t\t\t\t\t\t\t<NavDropdown.Item>Other Link</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t</NavDropdown>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<LinkContainer to=\"/login\">\r\n\t\t\t\t\t\t\t\t\t<Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-user px-1\"></i>\r\n\t\t\t\t\t\t\t\t\t\tLogin\r\n\t\t\t\t\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{userInfo && userInfo.isAdmin && (\r\n\t\t\t\t\t\t\t\t<NavDropdown title=\"Config\" id=\"admin-menu\">\r\n\t\t\t\t\t\t\t\t\t<LinkContainer to=\"/admin/userlist\">\r\n\t\t\t\t\t\t\t\t\t\t<NavDropdown.Item>Users</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\r\n\t\t\t\t\t\t\t\t\t<LinkContainer to=\"/admin/productlist\">\r\n\t\t\t\t\t\t\t\t\t\t<NavDropdown.Item>Products</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\r\n\t\t\t\t\t\t\t\t\t<LinkContainer to=\"/admin/orderlist\">\r\n\t\t\t\t\t\t\t\t\t\t<NavDropdown.Item>Orders</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t</NavDropdown>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t\t{/* <Form inline>\r\n\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tplaceholder=\"Search\"\r\n\t\t\t\t\t\t\tclassName=\"mr-sm-2\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Button variant=\"outline-success\">Search</Button>\r\n\t\t\t\t\t</Form> */}\r\n\t\t\t\t\t</Navbar.Collapse>\r\n\t\t\t\t</Container>\r\n\t\t\t</Navbar>\r\n\t\t</header>\r\n\t)\r\n}\r\n\r\nexport default Header\r\n","import React from 'react'\r\nimport Alert from 'react-bootstrap/Alert'\r\n\r\n// variants = 'primary' | 'secondary' | 'success' | 'danger' | 'warning' | 'info' | 'dark' | 'light'\r\n\r\ninterface Props {\r\n\tvariant?: string\r\n\tchildren: any\r\n}\r\n\r\nconst Message: React.FC<Props> = ({ variant, children }) => {\r\n\treturn (\r\n\t\t<div\r\n\t\t\tonClick={() => window.location.reload()}\r\n\t\t\tstyle={{ cursor: 'pointer' }}\r\n\t\t>\r\n\t\t\t<Alert variant={variant}>{children}</Alert>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nMessage.defaultProps = {\r\n\tvariant: 'info',\r\n}\r\n\r\nexport default Message\r\n","import Axios from 'axios'\r\nimport { CART_ADD_ITEM } from '../../constants/cartConstants'\r\n\r\nconst addToCart = (id, qty) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tconst product = (await Axios.get(`/api/products/${id}`)).data\r\n\t\tconst item = {\r\n\t\t\tname: product.name,\r\n\t\t\tqty: qty,\r\n\t\t\timage: product.image,\r\n\t\t\tprice: product.price,\r\n\t\t\tcountInStock: product.countInStock,\r\n\t\t\tproduct: product._id,\r\n\t\t}\r\n\t\t// DISPATCH AND SAVE TO LOCAL STORAGE\r\n\t\tdispatch({ type: CART_ADD_ITEM, payload: item })\r\n\t\tlocalStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems))\r\n\t} catch (error) {\r\n\t\tconsole.log(error)\r\n\t}\r\n}\r\n\r\nexport default addToCart\r\n","export const CART_ADD_ITEM = 'CART_ADD_ITEM'\r\nexport const CART_REMOVE_ITEM = 'CART_REMOVE_ITEM'\r\nexport const CART_SAVE_PAYMENT_METHOD = 'CART_SAVE_PAYMENT_METHOD'\r\n","import { CART_REMOVE_ITEM } from '../../constants/cartConstants'\r\n\r\nconst removeFromCart = (id) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\t// DISPATCH AND REMOVE FROM STORAGE\r\n\t\tdispatch({ type: CART_REMOVE_ITEM, payload: id })\r\n\t\tlocalStorage.setItem(\r\n\t\t\t'cartItems',\r\n\t\t\tJSON.stringify(getState().cart.cartItems)\r\n\t\t)\r\n\t} catch (error) {\r\n\t\tconsole.log(error)\r\n\t}\r\n}\r\n\r\nexport default removeFromCart\r\n","import React, { useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Message from '../components/Message/Message'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport ListGroup from 'react-bootstrap/ListGroup'\r\nimport Image from 'react-bootstrap/Image'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Card from 'react-bootstrap/Card'\r\nimport Form from 'react-bootstrap/Form'\r\nimport addToCart from '../actions/cart/addToCart'\r\nimport removeFromCart from '../actions/cart/removeFromCart'\r\nimport { Helmet } from 'react-helmet'\r\n\r\nconst CartScreen = ({ match, location, history }) => {\r\n\t// STATES\r\n\tconst productId = match.params.id\r\n\tconst qty = location.search ? Number(location.search.split('=')[1]) : 1\r\n\tconst { cartItems } = useSelector((state) => state.cart)\r\n\tconst dispatch = useDispatch()\r\n\r\n\t// USE EFFECT\r\n\tuseEffect(() => {\r\n\t\tif (productId) dispatch(addToCart(productId, qty))\r\n\t}, [dispatch, productId, qty])\r\n\r\n\t// HANDLERS\r\n\tconst removeFromCartHandler = (id) => {\r\n\t\tdispatch(removeFromCart(id))\r\n\t\thistory.push('/cart')\r\n\t}\r\n\r\n\tconst checkOutHandler = (e) => {\r\n\t\thistory.push('/shipping')\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Helmet>\r\n\t\t\t\t<title>Pro Store | My Cart</title>\r\n\t\t\t\t<meta name=\"description\" content=\"We sell the best milk tea in town\" />\r\n\t\t\t</Helmet>\r\n\t\t\t<Row>\r\n\t\t\t\t<Col md={8}>\r\n\t\t\t\t\t<h1>Shopping Cart</h1>\r\n\t\t\t\t\t{cartItems.length === 0 ? (\r\n\t\t\t\t\t\t<Message>\r\n\t\t\t\t\t\t\tYour Cart is Empty,\r\n\t\t\t\t\t\t\t<Link to=\"/\"> Go back to products </Link>\r\n\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<ListGroup variant=\"flush\">\r\n\t\t\t\t\t\t\t{cartItems.map((item) => (\r\n\t\t\t\t\t\t\t\t<ListGroup.Item key={item.product}>\r\n\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t<Col md={2}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Image src={item.image} alt={item.name} fluid rounded />\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t<Col md={3}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Link to={`/products/${item.product}`}>{item.name}</Link>\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t<Col md={2}>{item.price}</Col>\r\n\r\n\t\t\t\t\t\t\t\t\t\t{/* CHANGE THE QUANTITY OF SELECTED PRODUCT */}\r\n\t\t\t\t\t\t\t\t\t\t<Col md={2}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\tas=\"select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.qty}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdispatch(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taddToCart(item.product, Number(e.target.value))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thistory.push('/cart')\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{[...Array(item.countInStock)].map((x, i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option key={i + 1} value={i + 1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i + 1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<Col md={2}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"dark\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => removeFromCartHandler(item.product)}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-trash\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col md={4}>\r\n\t\t\t\t\t<Card className=\"my-2\">\r\n\t\t\t\t\t\t<ListGroup variant=\"flush\">\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\t\t\tSubtotal ({cartItems.reduce((acc, item) => acc + item.qty, 0)}\r\n\t\t\t\t\t\t\t\t\t) items\r\n\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t{cartItems\r\n\t\t\t\t\t\t\t\t\t.reduce((acc, item) => acc + item.price * item.qty, 0)\r\n\t\t\t\t\t\t\t\t\t.toFixed(2)}\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn-block\"\r\n\t\t\t\t\t\t\t\t\tdisabled={!cartItems.length}\r\n\t\t\t\t\t\t\t\t\tonClick={checkOutHandler}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tCheck Out\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default CartScreen\r\n","import React from 'react'\r\n\r\ninterface Props {\r\n\tvalue: number\r\n\ttext?: string\r\n\tcolor?: string\r\n}\r\n\r\nconst Rating: React.FC<Props> = ({ value, text, color }) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className=\"rating\">\r\n\t\t\t\t<span>\r\n\t\t\t\t\t<i\r\n\t\t\t\t\t\tstyle={{ color }}\r\n\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\tvalue >= 1\r\n\t\t\t\t\t\t\t\t? 'fas fa-star'\r\n\t\t\t\t\t\t\t\t: value >= 0.5\r\n\t\t\t\t\t\t\t\t? 'fas fa-star-half'\r\n\t\t\t\t\t\t\t\t: 'far fa-star'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t></i>\r\n\t\t\t\t</span>\r\n\r\n\t\t\t\t<span>\r\n\t\t\t\t\t<i\r\n\t\t\t\t\t\tstyle={{ color }}\r\n\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\tvalue >= 2\r\n\t\t\t\t\t\t\t\t? 'fas fa-star'\r\n\t\t\t\t\t\t\t\t: value >= 1.5\r\n\t\t\t\t\t\t\t\t? 'fas fa-star-half'\r\n\t\t\t\t\t\t\t\t: 'far fa-star'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t></i>\r\n\t\t\t\t</span>\r\n\r\n\t\t\t\t<span>\r\n\t\t\t\t\t<i\r\n\t\t\t\t\t\tstyle={{ color }}\r\n\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\tvalue >= 3\r\n\t\t\t\t\t\t\t\t? 'fas fa-star'\r\n\t\t\t\t\t\t\t\t: value >= 2.5\r\n\t\t\t\t\t\t\t\t? 'fas fa-star-half'\r\n\t\t\t\t\t\t\t\t: 'far fa-star'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t></i>\r\n\t\t\t\t</span>\r\n\r\n\t\t\t\t<span>\r\n\t\t\t\t\t<i\r\n\t\t\t\t\t\tstyle={{ color }}\r\n\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\tvalue >= 4\r\n\t\t\t\t\t\t\t\t? 'fas fa-star'\r\n\t\t\t\t\t\t\t\t: value >= 3.5\r\n\t\t\t\t\t\t\t\t? 'fas fa-star-half'\r\n\t\t\t\t\t\t\t\t: 'far fa-star'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t></i>\r\n\t\t\t\t</span>\r\n\r\n\t\t\t\t<span>\r\n\t\t\t\t\t<i\r\n\t\t\t\t\t\tstyle={{ color }}\r\n\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\tvalue >= 5\r\n\t\t\t\t\t\t\t\t? 'fas fa-star'\r\n\t\t\t\t\t\t\t\t: value >= 4.5\r\n\t\t\t\t\t\t\t\t? 'fas fa-star-half'\r\n\t\t\t\t\t\t\t\t: 'far fa-star'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t></i>\r\n\t\t\t\t</span>\r\n\t\t\t\t<span>{text && text}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nRating.defaultProps = {\r\n\tcolor: '#f8e825',\r\n}\r\n\r\nexport default Rating\r\n","import React from 'react'\r\nimport Card from 'react-bootstrap/Card'\r\nimport Rating from '../Rating/Rating'\r\nimport { Link } from 'react-router-dom'\r\n\r\ninterface Props {\r\n\tproduct: {\r\n\t\t_id: string\r\n\t\tname: string\r\n\t\timage: string\r\n\t\tdescription: string\r\n\t\tbrand: string\r\n\t\tcategory: string\r\n\t\tprice: number\r\n\t\tcountInStock: number\r\n\t\trating: number\r\n\t\tnumReviews: number\r\n\t}\r\n}\r\n\r\nconst Product: React.FC<Props> = (props) => {\r\n\tconst { product } = props\r\n\treturn (\r\n\t\t<Card className=\"my-3 p-3 rounded\">\r\n\t\t\t<Link to={`/products/${product._id}`}>\r\n\t\t\t\t<Card.Img src={product.image} variant=\"top\" />\r\n\t\t\t</Link>\r\n\r\n\t\t\t<Card.Body>\r\n\t\t\t\t<Link to={`/products/${product._id}`}>\r\n\t\t\t\t\t<Card.Title as=\"div\">\r\n\t\t\t\t\t\t<strong>{product.name}</strong>\r\n\t\t\t\t\t</Card.Title>\r\n\t\t\t\t</Link>\r\n\r\n\t\t\t\t<Card.Text as=\"div\">\r\n\t\t\t\t\t<Rating\r\n\t\t\t\t\t\tvalue={product.rating}\r\n\t\t\t\t\t\ttext={` ${product.numReviews} reviews`}\r\n\t\t\t\t\t\tcolor=\"orange\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Card.Text>\r\n\r\n\t\t\t\t<Card.Text as=\"h3\"> &#8369;{product.price}</Card.Text>\r\n\t\t\t</Card.Body>\r\n\t\t</Card>\r\n\t)\r\n}\r\n\r\nexport default Product\r\n","import React from 'react'\r\nimport Spinner from 'react-bootstrap/Spinner'\r\n\r\nconst Loader = () => {\r\n\treturn (\r\n\t\t<Spinner\r\n\t\t\tanimation=\"border\"\r\n\t\t\trole=\"status\"\r\n\t\t\tstyle={{\r\n\t\t\t\twidth: '100px',\r\n\t\t\t\theight: '100px',\r\n\t\t\t\tmargin: 'auto',\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<span className=\"sr-only\">Loading...</span>\r\n\t\t</Spinner>\r\n\t)\r\n}\r\n\r\nexport default Loader\r\n","import React from 'react'\r\nimport { Pagination } from 'react-bootstrap'\r\n\r\nconst Paginate = ({ totalPages, setPage, page }) => {\r\n\treturn (\r\n\t\ttotalPages > 1 && (\r\n\t\t\t<Pagination>\r\n\t\t\t\t{[...Array(totalPages)].map((item, i) => (\r\n\t\t\t\t\t<Pagination.Item\r\n\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\tvalue={i + 1}\r\n\t\t\t\t\t\tactive={i + 1 === page}\r\n\t\t\t\t\t\tonClick={() => setPage(i + 1)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{i + 1}\r\n\t\t\t\t\t</Pagination.Item>\r\n\t\t\t\t))}\r\n\t\t\t</Pagination>\r\n\t\t)\r\n\t)\r\n}\r\n\r\nexport default Paginate\r\n","export const getConfig = () => {\r\n\tconst token = JSON.parse(localStorage.getItem('token'))\r\n\tconst config = {\r\n\t\theaders: {\r\n\t\t\tAuthorization: `Bearer ${token}`,\r\n\t\t},\r\n\t}\r\n\treturn config\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport Col from 'react-bootstrap/esm/Col'\r\nimport Row from 'react-bootstrap/esm/Row'\r\nimport Carousel from 'react-bootstrap/Carousel'\r\nimport Product from '../components/Product/Product'\r\nimport Loader from '../components/Loader/Loader'\r\nimport Message from '../components/Message/Message'\r\nimport Paginate from '../components/Paginate'\r\nimport { getConfig } from '../utils/utils'\r\nimport Axios from 'axios'\r\nimport { Link } from 'react-router-dom'\r\nimport { Helmet } from 'react-helmet'\r\n\r\nconst Home = ({ match }) => {\r\n\t// STATES\r\n\tconst [loading, setLoading] = useState(false)\r\n\tconst [error] = useState(null)\r\n\tconst [products, setProducts] = useState([])\r\n\r\n\tconst keyword = match.params.keyword || ''\r\n\tconst [pageSize] = useState(8)\r\n\tconst [page, setPage] = useState(1)\r\n\tconst [totalPages, setTotalPages] = useState(null)\r\n\r\n\tconst getProducts = (options) => {\r\n\t\tsetLoading(true)\r\n\t\tAxios.post(`/api/products?keyword=${keyword}`, options, getConfig())\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProducts(res.data.products)\r\n\t\t\t\tsetTotalPages(res.data.totalPages)\r\n\t\t\t\tsetLoading(false)\r\n\t\t\t})\r\n\t\t\t.catch((e) => {\r\n\t\t\t\tsetLoading(false)\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t})\r\n\t}\r\n\r\n\t// USE EFFECT\r\n\tuseEffect(() => {\r\n\t\tgetProducts({ pageSize, page })\r\n\t\t/* eslint-disable */\r\n\t}, [keyword, page, pageSize])\r\n\r\n\t// HANDLERS\r\n\tconst handleSetPage = (page) => {\r\n\t\tsetPage(page)\r\n\t\tconst options = {\r\n\t\t\tpageSize,\r\n\t\t\tpage,\r\n\t\t}\r\n\t\tgetProducts(options)\r\n\t}\r\n\r\n\t// CHECKER\r\n\tif (loading) return <Loader />\r\n\tif (error)\r\n\t\treturn (\r\n\t\t\t<Message\r\n\t\t\t\tvariant=\"secondary\"\r\n\t\t\t\tchildren={<h5>`Error Loading Product Data : ({error})` </h5>}\r\n\t\t\t/>\r\n\t\t)\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{/* <h2 className=\"text-center\">Latest Products</h2> */}\r\n\t\t\t<Helmet>\r\n\t\t\t\t<title>Pro Store | Home</title>\r\n\t\t\t\t<meta name=\"description\" content=\"We sell the best milk tea in town\" />\r\n\t\t\t</Helmet>\r\n\r\n\t\t\t<Carousel pause=\"hover\" className=\"home__banner\">\r\n\t\t\t\t<Carousel.Item>\r\n\t\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tclassName=\"d-block w-100\"\r\n\t\t\t\t\t\t\tsrc=\"https://images-na.ssl-images-amazon.com/images/G/01/AmazonExports/Fuji/2020/October/Fuji_Tallhero_Dash_en_US_1x._CB418727898_.jpg\"\r\n\t\t\t\t\t\t\talt=\"First slide\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<Carousel.Caption>\r\n\t\t\t\t\t\t<h3>First slide label</h3>\r\n\t\t\t\t\t</Carousel.Caption>\r\n\t\t\t\t</Carousel.Item>\r\n\t\t\t\t<Carousel.Item>\r\n\t\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tclassName=\"d-block w-100\"\r\n\t\t\t\t\t\t\tsrc=\"https://images-na.ssl-images-amazon.com/images/G/01/AmazonExports/Fuji/2020/May/Hero/Fuji_TallHero_Sports_en_US_1x._CB431860448_.jpg\"\r\n\t\t\t\t\t\t\talt=\"Third slide\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Carousel.Caption>\r\n\t\t\t\t\t\t\t<h3>Second slide label</h3>\r\n\t\t\t\t\t\t</Carousel.Caption>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</Carousel.Item>\r\n\t\t\t\t<Carousel.Item>\r\n\t\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tclassName=\"d-block w-100\"\r\n\t\t\t\t\t\t\tsrc=\"https://images-na.ssl-images-amazon.com/images/G/01/AmazonExports/Events/2020/PrimeDay/Fuji_TallHero_NonPrime_v2_en_US_1x._CB403670067_.jpg\"\r\n\t\t\t\t\t\t\talt=\"Third slide\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Carousel.Caption>\r\n\t\t\t\t\t\t\t<h3>Third slide label</h3>\r\n\t\t\t\t\t\t\t<p></p>\r\n\t\t\t\t\t\t</Carousel.Caption>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</Carousel.Item>\r\n\t\t\t</Carousel>\r\n\t\t\t{/* <Image\r\n\t\t\t\tsrc=\"\"\r\n\t\t\t\talt=\"banner\"\r\n\t\t\t\tclassName=\"home__banner\"\r\n\t\t\t/> */}\r\n\r\n\t\t\t<Row>\r\n\t\t\t\t{products.map((product, i) => (\r\n\t\t\t\t\t<Col key={i} sm={12} md={6} lg={4} xl={3}>\r\n\t\t\t\t\t\t<Product product={product} />\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t))}\r\n\t\t\t</Row>\r\n\t\t\t<Paginate setPage={handleSetPage} totalPages={totalPages} page={page} />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Home\r\n","import React from 'react'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\n\r\nconst FormContainer = ({ children }) => {\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t<Row className=\" justify-content-md-center\">\r\n\t\t\t\t<Col xs={12} md={6}>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</Container>\r\n\t)\r\n}\r\n\r\nexport default FormContainer\r\n","import React, { useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Message from '../components/Message/Message'\r\nimport Loader from '../components/Loader/Loader'\r\nimport { loginUser } from '../actions/users/loginUser'\r\nimport FormContainer from '../components/FormContainer/FormContainer'\r\nimport { Helmet } from 'react-helmet'\r\nimport GoogleButton from 'react-google-button'\r\nimport Axios from 'axios'\r\n\r\nconst LoginScreen = (props) => {\r\n\tconst [email, setEmail] = useState('')\r\n\tconst [password, setPassword] = useState('')\r\n\tconst [formError, setFormError] = useState(null)\r\n\tconst { userInfo, loading, loginError } = useSelector((state) => state.user)\r\n\tconst dispatch = useDispatch()\r\n\tconst redirect = props.location.search\r\n\t\t? props.location.search.split('=')[1]\r\n\t\t: '/'\r\n\r\n\t// HANDLERS\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault()\r\n\t\tlet formPassed = true\r\n\t\tif (email === '') {\r\n\t\t\tsetFormError('Please fill up the required fields')\r\n\t\t\tdocument.getElementById('email').textContent = '* Email is required'\r\n\t\t\tformPassed = false\r\n\t\t} else {\r\n\t\t\tdocument.getElementById('email').textContent = 'Email'\r\n\t\t\tformPassed = true\r\n\t\t}\r\n\t\tif (password === '') {\r\n\t\t\tsetFormError('Please fill up the required fields')\r\n\t\t\tdocument.getElementById('password').textContent = '* Password is required'\r\n\t\t\tformPassed = false\r\n\t\t} else {\r\n\t\t\tdocument.getElementById('password').textContent = 'Password'\r\n\t\t\tformPassed = true\r\n\t\t}\r\n\t\tif (formPassed) {\r\n\t\t\tsetFormError(null)\r\n\t\t\tdispatch(loginUser(email, password))\r\n\t\t}\r\n\t}\r\n\tif (userInfo) props.history.push(redirect)\r\n\r\n\t/* \tconst handleGoogleSubmit = (e) => {\r\n\t\tAxios.get('http://localhost:5000/auth/google')\r\n\t\t\t.then((res) => console.log(res))\r\n\t\t\t.catch((e) => console.log(e))\r\n\t} */\r\n\r\n\treturn (\r\n\t\t<FormContainer>\r\n\t\t\t{/* <a href=\"http://localhost:5000/auth/google\"> */}\r\n\t\t\t<a href=\"/auth/google\">\r\n\t\t\t\t<GoogleButton\r\n\t\t\t\t\ttype=\"dark\"\r\n\t\t\t\t\tstyle={{ width: '100%', marginTop: '70px', marginBottom: '100px' }}\r\n\t\t\t\t/>\r\n\t\t\t</a>\r\n\t\t\t<Helmet>\r\n\t\t\t\t<title>Pro Store | Login</title>\r\n\t\t\t\t<meta name=\"description\" content=\"We sell the best milk tea in town\" />\r\n\t\t\t</Helmet>\r\n\t\t\t<h4>ADMIN LOGIN</h4>\r\n\t\t\t{loginError && <Message children={loginError} variant=\"info\" />}\r\n\t\t\t{formError && <Message children={formError} variant=\"danger\" />}\r\n\t\t\t{loading && <Loader />}\r\n\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t<Form.Group controlId=\"email\">\r\n\t\t\t\t\t<Form.Label id=\"email\">Email Address</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\tplaceholder=\"Enter email\"\r\n\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\r\n\t\t\t\t\t></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t<Form.Group controlId=\"password\">\r\n\t\t\t\t\t<Form.Label id=\"password\">Password</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\tplaceholder=\"Enter password\"\r\n\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\r\n\t\t\t\t\t></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Button type=\"submit\" variant=\"secondary\">\r\n\t\t\t\t\tSubmit\r\n\t\t\t\t</Button>\r\n\t\t\t</Form>\r\n\t\t\t<br />\r\n\r\n\t\t\t{/* \t<Row className=\"py-3\">\r\n\t\t\t\t<Col>\r\n\t\t\t\t\tNew Customer?{' '}\r\n\t\t\t\t\t<Link to={`/register?redirect=${redirect}`}>Register</Link>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row> */}\r\n\t\t</FormContainer>\r\n\t)\r\n}\r\n\r\nexport default LoginScreen\r\n","import Axios from 'axios'\r\nimport {\r\n\tUSER_AUTH_FAIL,\r\n\tUSER_AUTH_SUCCESS,\r\n\tUSER_LOGIN_FAIL,\r\n\tUSER_LOGIN_REQUEST,\r\n\tUSER_LOGIN_SUCCESS,\r\n} from '../../constants/userConstants'\r\n\r\nexport const authUser = () => async (dispatch) => {\r\n\ttry {\r\n\t\tconst config = {\r\n\t\t\t/* \theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${JSON.parse(localStorage.getItem('token'))}`,\r\n\t\t\t}, */\r\n\t\t\t/* headers: {\r\n\t\t\t\tAccept: 'application/json',\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\tcredentials: 'include',\r\n\t\t\t},\r\n\t\t\twithCredentials: true, */\r\n\t\t}\r\n\t\tconst { data } = await Axios.get('/api/users/profile', config)\r\n\r\n\t\tdispatch({ type: USER_AUTH_SUCCESS, payload: data })\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_AUTH_FAIL,\r\n\t\t\tpayload: error.response?.data?.message\r\n\t\t\t\t? error.response.data.message\r\n\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const loginUser = (email, password) => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({ type: USER_LOGIN_REQUEST })\r\n\r\n\t\tconst { user, token } = await (\r\n\t\t\tawait Axios.post('/api/users/login', {\r\n\t\t\t\temail,\r\n\t\t\t\tpassword,\r\n\t\t\t})\r\n\t\t).data\r\n\t\t/* localStorage.setItem('token', JSON.stringify(token)) */\r\n\t\tdispatch({ type: USER_LOGIN_SUCCESS, payload: user })\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOGIN_FAIL,\r\n\t\t\tpayload: error.response?.data?.message\r\n\t\t\t\t? error.response.data.message\r\n\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n","import Axios from 'axios'\r\nimport {\r\n\tPRODUCT_DETAILS_FAIL,\r\n\tPRODUCT_DETAILS_REQUEST,\r\n\tPRODUCT_DETAILS_SUCCESS,\r\n} from '../../constants/productConst'\r\n\r\nconst getProductDetails = (productId) => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({ type: PRODUCT_DETAILS_REQUEST })\r\n\r\n\t\tconst { data } = await Axios.get(`/api/products/${productId}`)\r\n\r\n\t\tdispatch({ type: PRODUCT_DETAILS_SUCCESS, payload: data })\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_DETAILS_FAIL,\r\n\t\t\tpayload: error.response?.data?.message\r\n\t\t\t\t? error.response.data.message\r\n\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default getProductDetails\r\n","export const PRODUCT_LIST_REQUEST = 'PRODUCT_LIST_REQUEST'\r\nexport const PRODUCT_LIST_SUCCESS = 'PRODUCT_LIST_SUCCESS'\r\nexport const PRODUCT_LIST_FAIL = 'PRODUCT_LIST_FAIL'\r\n\r\nexport const PRODUCT_DETAILS_REQUEST = 'PRODUCT_DETAILS_REQUEST'\r\nexport const PRODUCT_DETAILS_SUCCESS = 'PRODUCT_DETAILS_SUCCESS'\r\nexport const PRODUCT_DETAILS_FAIL = 'PRODUCT_DETAILS_FAIL'\r\n","import React, { useEffect, useState } from 'react'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Image from 'react-bootstrap/Image'\r\nimport ListGroup from 'react-bootstrap/ListGroup'\r\nimport Card from 'react-bootstrap/Card'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Form from 'react-bootstrap/Form'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport Rating from '../components/Rating/Rating'\r\nimport getProductDetails from '../actions/products/productDetailsAction'\r\nimport Loader from '../components/Loader/Loader'\r\nimport Message from '../components/Message/Message'\r\nimport addToCart from '../actions/cart/addToCart'\r\nimport Axios from 'axios'\r\nimport { PRODUCT_DETAILS_SUCCESS } from '../constants/productConst'\r\nimport { getConfig } from '../utils/utils'\r\nimport { Helmet } from 'react-helmet'\r\n\r\nconst ProductDetail = (props) => {\r\n\t//\tSTATES\r\n\tconst productId = props.match.params.id\r\n\tconst [qty, setQty] = useState(1)\r\n\tconst [rating, setRating] = useState('')\r\n\tconst [comment, setComment] = useState('')\r\n\tconst [reviewError, setReviewError] = useState(null)\r\n\tconst [reviewLoading, setReviewLoading] = useState(false)\r\n\tconst { userInfo } = useSelector((state) => state.user)\r\n\tconst { product, loading, error } = useSelector((state) => {\r\n\t\treturn state.productDetails\r\n\t})\r\n\tconst dispatch = useDispatch()\r\n\r\n\t// USE EFFECTS\r\n\tuseEffect(() => {\r\n\t\tdispatch(getProductDetails(productId))\r\n\t}, [dispatch, productId])\r\n\r\n\tif (loading) return <Loader />\r\n\tif (error)\r\n\t\treturn (\r\n\t\t\t<Message\r\n\t\t\t\tvariant=\"danger\"\r\n\t\t\t\tchildren={<h5>`Error loading Product Details - (${error})`</h5>}\r\n\t\t\t/>\r\n\t\t)\r\n\tif (!product) return <Loader />\r\n\tconst qtyValues = [...Array(product.countInStock)].map((x, i) => (\r\n\t\t<option key={i + 1} value={i + 1}>\r\n\t\t\t{i + 1}\r\n\t\t</option>\r\n\t))\r\n\r\n\t// HANDLERS\r\n\tconst addToCartHandler = (e) => {\r\n\t\te.preventDefault()\r\n\t\tdispatch(addToCart(product._id, qty))\r\n\t\tprops.history.push('/cart')\r\n\t\t/* props.history.push(`/cart/${product._id}?qty=${qty}`) */\r\n\t}\r\n\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault()\r\n\t\tconst review = {\r\n\t\t\tname: userInfo.name,\r\n\t\t\trating,\r\n\t\t\tcomment,\r\n\t\t}\r\n\t\tsetReviewLoading(true)\r\n\t\tAxios.post(`/api/products/${productId}/reviews`, review, getConfig())\r\n\t\t\t.then((res) => {\r\n\t\t\t\tdispatch({ type: PRODUCT_DETAILS_SUCCESS, payload: res.data })\r\n\t\t\t\tsetReviewLoading(false)\r\n\t\t\t\talert('Review Submitted')\r\n\t\t\t\tsetRating('')\r\n\t\t\t\tsetComment('')\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tsetReviewLoading(false)\r\n\t\t\t\tsetReviewError(\r\n\t\t\t\t\terror.response?.data?.message\r\n\t\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t\t: error.message\r\n\t\t\t\t)\r\n\t\t\t})\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Helmet>\r\n\t\t\t\t<title>Pro Store | {product.name}</title>\r\n\t\t\t\t<meta name=\"description\" content=\"We sell the best milk tea in town\" />\r\n\t\t\t</Helmet>\r\n\t\t\t<Link to=\"/\">\r\n\t\t\t\t<Button className=\"btn my-3 btn-secondary\" type=\"button\">\r\n\t\t\t\t\tGo Back\r\n\t\t\t\t</Button>\r\n\t\t\t</Link>\r\n\r\n\t\t\t<Row>\r\n\t\t\t\t<Col md={6}>\r\n\t\t\t\t\t<Image src={product.image} alt={product.name} fluid />\r\n\t\t\t\t</Col>\r\n\r\n\t\t\t\t<Col md={3}>\r\n\t\t\t\t\t<ListGroup variant=\"flush\">\r\n\t\t\t\t\t\t<ListGroup.Item variant=\"light\">\r\n\t\t\t\t\t\t\t<h5>{product.name}</h5>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<Rating\r\n\t\t\t\t\t\t\t\tvalue={product.rating}\r\n\t\t\t\t\t\t\t\ttext={`${product.numReviews} reviews`}\r\n\t\t\t\t\t\t\t></Rating>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<strong> Brand:</strong>\r\n\t\t\t\t\t\t\t<br /> {product.brand}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<strong> Category:</strong>\r\n\t\t\t\t\t\t\t<br /> {product.category}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<strong>Item Description:</strong>\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t{product.description}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t</Col>\r\n\r\n\t\t\t\t<Col md={3}>\r\n\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t<ListGroup variant=\"flush\">\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Price:</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<strong>P{product.price}</strong>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Status:</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t{product.countInStock > 0 ? 'In Stock' : 'Out of Stock'}\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t{product.countInStock > 0 && (\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t<Col>Quantity:</Col>\r\n\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\tas=\"select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={qty}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setQty(Number(e.target.value))}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{qtyValues}\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn-block btn-warning\"\r\n\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\tdisabled={product.countInStock === 0}\r\n\t\t\t\t\t\t\t\t\tonClick={addToCartHandler}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tAdd To Cart\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t\t<Row>\r\n\t\t\t\t<Col md={6}>\r\n\t\t\t\t\t<h2>REVIEWS</h2>\r\n\t\t\t\t\t{product.reviews.length === 0 && <Message>No reviews yet</Message>}\r\n\t\t\t\t\t<ListGroup variant=\"flush\">\r\n\t\t\t\t\t\t{product.reviews.map((review) => (\r\n\t\t\t\t\t\t\t<ListGroup.Item key={review._id}>\r\n\t\t\t\t\t\t\t\t<strong>{review.name}</strong>\r\n\t\t\t\t\t\t\t\t<Rating value={review.rating} />\r\n\t\t\t\t\t\t\t\t<p>{review.createdAt.substring(0, 10)}</p>\r\n\t\t\t\t\t\t\t\t<p>{review.comment}</p>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t))}\r\n\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h4>WRITE A REVIEW</h4>\r\n\t\t\t\t\t\t\t{reviewError && (\r\n\t\t\t\t\t\t\t\t<Message children={reviewError} variant=\"danger\" />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{reviewLoading && <Loader />}\r\n\t\t\t\t\t\t\t{userInfo ? (\r\n\t\t\t\t\t\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label>Rating</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\tas=\"select\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={rating}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setRating(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"\">Select...</option>\r\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"1\">1 - Poor</option>\r\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"2\">2 - Fair</option>\r\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"3\">3 - Good</option>\r\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"4\">4 - Very Good</option>\r\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"5\">5 - Excellent</option>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label>Comment</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\tas=\"textarea\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={comment}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setComment(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"info\">\r\n\t\t\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Message children=\"Please log in to write a review\" />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default ProductDetail\r\n","import Axios from 'axios'\r\nimport {\r\n\tUSER_DETAILS_FAIL,\r\n\tUSER_DETAILS_REQUEST,\r\n\tUSER_DETAILS_SUCCESS,\r\n\tUSER_UPDATE_FAIL,\r\n\tUSER_UPDATE_REQUEST,\r\n\tUSER_UPDATE_SUCCESS,\r\n} from '../../constants/userConstants'\r\n\r\nexport const updateUser = (updatedUser) => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({ type: USER_UPDATE_REQUEST })\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${JSON.parse(localStorage.getItem('token'))}`,\r\n\t\t\t},\r\n\t\t}\r\n\t\tconst user = await (\r\n\t\t\tawait Axios.put(`/api/users/profile`, updatedUser, config)\r\n\t\t).data\r\n\r\n\t\tdispatch({ type: USER_UPDATE_SUCCESS, payload: user })\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_UPDATE_FAIL,\r\n\t\t\tpayload: error.response?.data?.message\r\n\t\t\t\t? error.response.data.message\r\n\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const updateUserByAdmin = (updatedUser, id) => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({ type: USER_DETAILS_REQUEST })\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${JSON.parse(localStorage.getItem('token'))}`,\r\n\t\t\t},\r\n\t\t}\r\n\t\tconst user = await (\r\n\t\t\tawait Axios.put(\r\n\t\t\t\t`http://localhost:5000/api/admin/users/${id}`,\r\n\t\t\t\tupdatedUser,\r\n\t\t\t\tconfig\r\n\t\t\t)\r\n\t\t).data\r\n\r\n\t\tdispatch({ type: USER_DETAILS_SUCCESS, payload: user })\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DETAILS_FAIL,\r\n\t\t\tpayload: error.response?.data?.message\r\n\t\t\t\t? error.response.data.message\r\n\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n","import Axios from 'axios'\r\nimport {\r\n\tORDERS_BYUSER_FAIL,\r\n\tORDERS_BYUSER_REQUEST,\r\n\tORDERS_BYUSER_SUCCESS,\r\n} from '../../constants/orderConstants'\r\n\r\nconst getUserOrders = () => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({ type: ORDERS_BYUSER_REQUEST })\r\n\t\tconst token = JSON.parse(localStorage.getItem('token'))\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${token}`,\r\n\t\t\t},\r\n\t\t}\r\n\t\tconst userOrders = await (await Axios.get('/api/orders/myorders', config))\r\n\t\t\t.data\r\n\t\tdispatch({ type: ORDERS_BYUSER_SUCCESS, payload: userOrders })\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDERS_BYUSER_FAIL,\r\n\t\t\tpayload: error.response?.data?.message\r\n\t\t\t\t? error.response.data.message\r\n\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default getUserOrders\r\n","export const ORDER_CREATE_REQUEST = 'ORDER_CREATE_REQUEST'\r\nexport const ORDER_CREATE_SUCCESS = 'ORDER_CREATE_SUCCESS'\r\nexport const ORDER_CREATE_FAIL = 'ORDER_CREATE_FAIL'\r\n\r\nexport const ORDER_GET_REQUEST = 'ORDER_GET_REQUEST'\r\nexport const ORDER_GET_SUCCESS = 'ORDER_GET_SUCCESS'\r\nexport const ORDER_GET_FAIL = 'ORDER_GET_FAIL'\r\n\r\nexport const ORDER_PAY_REQUEST = 'ORDER_PAY_REQUEST'\r\nexport const ORDER_PAY_SUCCESS = 'ORDER_PAY_SUCCESS'\r\nexport const ORDER_PAY_FAIL = 'ORDER_PAY_FAIL'\r\nexport const ORDER_PAY_RESET = 'ORDER_PAY_RESET'\r\n\r\nexport const ORDERS_BYUSER_REQUEST = 'ORDERS_BYUSER_REQUREST'\r\nexport const ORDERS_BYUSER_SUCCESS = 'ORDERS_BYUSER_RSUCCESS'\r\nexport const ORDERS_BYUSER_FAIL = 'ORDERS_BYUSER_RFAIL'\r\n","import React, { useEffect, useState } from 'react'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Table from 'react-bootstrap/Table'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Message from '../components/Message/Message'\r\nimport Loader from '../components/Loader/Loader'\r\nimport { updateUser } from '../actions/users/updateUser'\r\nimport getUserOrders from '../actions/order/getUserOrdes'\r\nimport { Helmet } from 'react-helmet'\r\n\r\nconst ProfileScreen = (props) => {\r\n\tconst [name, setName] = useState('')\r\n\t/* const [email, setEmail] = useState('') */\r\n\tconst [isChangePassword] = useState(true)\r\n\tconst [password, setPassword] = useState('')\r\n\tconst [rePassword, setRePassword] = useState('')\r\n\tconst [formError, setFormError] = useState(null)\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst { userInfo, loading, updateError: error } = useSelector(\r\n\t\t(state) => state.user\r\n\t)\r\n\tconst { userOrders, userOrdersLoading, userOrdersError } = useSelector(\r\n\t\t(state) => state.order\r\n\t)\r\n\r\n\t// USE EFFECT\r\n\tuseEffect(() => {\r\n\t\tif (userInfo) {\r\n\t\t\tsetName(userInfo.name)\r\n\t\t}\r\n\r\n\t\tdispatch(getUserOrders())\r\n\t}, [userInfo, dispatch])\r\n\r\n\t// HANDLERS\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault()\r\n\r\n\t\tif (password !== rePassword) return setFormError('Password does not match')\r\n\t\tdispatch(\r\n\t\t\tupdateUser({\r\n\t\t\t\tname,\r\n\t\t\t\tpassword,\r\n\t\t\t})\r\n\t\t)\r\n\r\n\t\tsetFormError(null)\r\n\t}\r\n\r\n\tif (!userInfo) return <Loader />\r\n\tif (loading) return <Loader />\r\n\treturn (\r\n\t\t<Row>\r\n\t\t\t<Helmet>\r\n\t\t\t\t<title>Pro Store | Profile</title>\r\n\t\t\t\t<meta name=\"description\" content=\"We sell the best milk tea in town\" />\r\n\t\t\t</Helmet>\r\n\t\t\t<Col md={3}>\r\n\t\t\t\t{/* \t{success && (\r\n\t\t\t\t\t<Message\r\n\t\t\t\t\t\tchildren={\r\n\t\t\t\t\t\t\t'User profile updated, click here to refresh the page'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvariant=\"success\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t)} */}\r\n\r\n\t\t\t\t{error && <Message children={error} variant=\"info\" />}\r\n\t\t\t\t{formError && <Message children={formError} variant=\"danger\" />}\r\n\t\t\t\t{loading && <Loader />}\r\n\r\n\t\t\t\t<h2>User Profile</h2>\r\n\r\n\t\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t\t<Form.Group controlId=\"name\">\r\n\t\t\t\t\t\t<Form.Label id=\"name\">Name</Form.Label>\r\n\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\r\n\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t{/* <Form.Group controlId=\"email\">\r\n\t\t\t\t\t\t<Form.Label id=\"email\">Email Address</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\r\n\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t</Form.Group> */}\r\n\r\n\t\t\t\t\t<Form.Group controlId=\"password\">\r\n\t\t\t\t\t\t<Form.Label id=\"password\">Password</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\tplaceholder=\"Enter new password\"\r\n\t\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\r\n\t\t\t\t\t\t\tdisabled={!isChangePassword}\r\n\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group controlId=\"confirmPassword\">\r\n\t\t\t\t\t\t<Form.Label id=\"rePassword\">Re-type Password</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\tvalue={rePassword}\r\n\t\t\t\t\t\t\tplaceholder=\"Re-enter new password\"\r\n\t\t\t\t\t\t\tonChange={(e) => setRePassword(e.target.value)}\r\n\t\t\t\t\t\t\tdisabled={!isChangePassword}\r\n\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Button type=\"submit\" variant=\"secondary\">\r\n\t\t\t\t\t\tUpdate\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form>\r\n\t\t\t</Col>\r\n\t\t\t<Col md={9}>\r\n\t\t\t\t{userOrdersError ? (\r\n\t\t\t\t\t<Message variant=\"danger\">{userOrdersError}</Message>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<h2>My Orders</h2>\r\n\t\t\t\t\t\t{userOrdersLoading ? (\r\n\t\t\t\t\t\t\t<Loader />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Table hover responsive className=\"table-sm\">\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>DATE</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>TOTAL</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>PAID</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>DELIVERED</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>DETAILS</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{userOrders &&\r\n\t\t\t\t\t\t\t\t\t\tuserOrders.map((order) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<tr key={order._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{order._id}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{order.createdAt.substring(0, 10)}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{order.totalPrice}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{order.isPaid ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\torder.paidAt.substring(0, 10)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"fas fa-times\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'red',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{order.isDelivered ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\torder.deliveredAt.substring(0, 10)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"fas fa-times\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'red',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<LinkContainer to={`/orders/${order._id}/pay`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant=\"secondary\" className=\"btn-sm\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tDetails\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</Col>\r\n\t\t</Row>\r\n\t)\r\n}\r\n\r\nexport default ProfileScreen\r\n","import Axios from 'axios'\r\nimport {\r\n\tUSER_REGISTER_FAIL,\r\n\tUSER_REGISTER_REQUEST,\r\n\tUSER_REGISTER_SUCCESS,\r\n} from '../../constants/userConstants'\r\n\r\nconst registerUser = (name, email, password) => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({ type: USER_REGISTER_REQUEST })\r\n\t\tconst { user, token } = await (\r\n\t\t\tawait Axios.post('/api/users/register', {\r\n\t\t\t\tname,\r\n\t\t\t\temail,\r\n\t\t\t\tpassword,\r\n\t\t\t})\r\n\t\t).data\r\n\r\n\t\tdispatch({ type: USER_REGISTER_SUCCESS, payload: user })\r\n\t\tlocalStorage.setItem('token', JSON.stringify(token))\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_REGISTER_FAIL,\r\n\t\t\tpayload: error.response?.data?.message\r\n\t\t\t\t? error.response.data.message\r\n\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default registerUser\r\n","import React, { useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Message from '../components/Message/Message'\r\nimport Loader from '../components/Loader/Loader'\r\nimport FormContainer from '../components/FormContainer/FormContainer'\r\nimport registerUser from '../actions/users/registerUser'\r\nimport { Helmet } from 'react-helmet'\r\n\r\nconst RegisterScreen = (props) => {\r\n\tconst [name, setName] = useState('')\r\n\tconst [email, setEmail] = useState('')\r\n\tconst [password, setPassword] = useState('')\r\n\tconst [rePassword, setRePassword] = useState('')\r\n\tconst [formError, setFormError] = useState(null)\r\n\tconst { userInfo, loading, registerError: error } = useSelector(\r\n\t\t(state) => state.user\r\n\t)\r\n\tconst dispatch = useDispatch()\r\n\tconst redirect = props.location.search\r\n\t\t? props.location.search.split('=')[1]\r\n\t\t: '/'\r\n\r\n\tif (userInfo) props.history.push(redirect)\r\n\r\n\t// HANDLERS\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault()\r\n\t\tlet formPassed = true\r\n\r\n\t\tif (name === '') {\r\n\t\t\tsetFormError('Please fill up the required fields')\r\n\t\t\tdocument.getElementById('name').textContent = '* Name is required'\r\n\t\t\tformPassed = false\r\n\t\t} else {\r\n\t\t\tdocument.getElementById('name').textContent = 'Name'\r\n\t\t\tformPassed = true\r\n\t\t}\r\n\t\tif (email === '') {\r\n\t\t\tsetFormError('Please fill up the required fields')\r\n\t\t\tdocument.getElementById('email').textContent = '* Email is required'\r\n\t\t\tformPassed = false\r\n\t\t} else {\r\n\t\t\tdocument.getElementById('email').textContent = 'Email'\r\n\t\t\tformPassed = true\r\n\t\t}\r\n\t\tif (password === '') {\r\n\t\t\tsetFormError('Please fill up the required fields')\r\n\t\t\tdocument.getElementById('password').textContent = '* Password is required'\r\n\t\t\tformPassed = false\r\n\t\t} else {\r\n\t\t\tdocument.getElementById('password').textContent = 'Password'\r\n\t\t\tformPassed = true\r\n\t\t}\r\n\t\tif (rePassword === '') {\r\n\t\t\tsetFormError('Please fill up the required fields')\r\n\t\t\tdocument.getElementById('rePassword').textContent =\r\n\t\t\t\t'* Password is required'\r\n\t\t\tformPassed = false\r\n\t\t} else {\r\n\t\t\tdocument.getElementById('rePassword').textContent = 'Re-type Password'\r\n\t\t\tformPassed = true\r\n\t\t}\r\n\t\tif (password !== rePassword) {\r\n\t\t\tsetFormError('Password does not match')\r\n\t\t\tformPassed = false\r\n\t\t}\r\n\r\n\t\tif (formPassed) {\r\n\t\t\tsetFormError(null)\r\n\t\t\tdispatch(registerUser(name, email, password))\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<FormContainer>\r\n\t\t\t<Helmet>\r\n\t\t\t\t<title>Pro Store | Register</title>\r\n\t\t\t\t<meta name=\"description\" content=\"We sell the best milk tea in town\" />\r\n\t\t\t</Helmet>\r\n\t\t\t<h1>Creat Account</h1>\r\n\t\t\t{error && <Message children={error} variant=\"info\" />}\r\n\t\t\t{formError && <Message children={formError} variant=\"danger\" />}\r\n\t\t\t{loading && <Loader />}\r\n\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t<Form.Group controlId=\"name\">\r\n\t\t\t\t\t<Form.Label id=\"name\">Name</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\tplaceholder=\"Enter name\"\r\n\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\r\n\t\t\t\t\t></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t<Form.Group controlId=\"email\">\r\n\t\t\t\t\t<Form.Label id=\"email\">Email Address</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\tplaceholder=\"Enter email\"\r\n\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\r\n\t\t\t\t\t></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t<Form.Group controlId=\"password\">\r\n\t\t\t\t\t<Form.Label id=\"password\">Password</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\tplaceholder=\"Enter password\"\r\n\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\r\n\t\t\t\t\t></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t<Form.Group controlId=\"confirmPassword\">\r\n\t\t\t\t\t<Form.Label id=\"rePassword\">Re-type Password</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tvalue={rePassword}\r\n\t\t\t\t\t\tplaceholder=\"Re-enter password\"\r\n\t\t\t\t\t\tonChange={(e) => setRePassword(e.target.value)}\r\n\t\t\t\t\t></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Button type=\"submit\" variant=\"secondary\">\r\n\t\t\t\t\tSubmit\r\n\t\t\t\t</Button>\r\n\t\t\t</Form>\r\n\t\t\t<Row className=\"py-3\">\r\n\t\t\t\t<Col>\r\n\t\t\t\t\tHave already an account?{' '}\r\n\t\t\t\t\t<Link to={`/login?redirect=${redirect}`}>Login</Link>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</FormContainer>\r\n\t)\r\n}\r\n\r\nexport default RegisterScreen\r\n","import React from 'react'\r\nimport Nav from 'react-bootstrap/Nav'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\n\r\ninterface Props {\r\n\tstep1?: any\r\n\tstep2?: any\r\n\tstep3?: any\r\n\tstep4?: any\r\n}\r\n\r\nconst CheckoutSteps: React.FC<Props> = ({ step1, step2, step3, step4 }) => {\r\n\treturn (\r\n\t\t<Nav className=\"justify-content-center mb-4\">\r\n\t\t\t<Nav.Item>\r\n\t\t\t\t{step1 ? (\r\n\t\t\t\t\t<LinkContainer to=\"/login\">\r\n\t\t\t\t\t\t<Nav.Link>Sign In</Nav.Link>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Nav.Link disabled>Sign In</Nav.Link>\r\n\t\t\t\t)}\r\n\t\t\t</Nav.Item>\r\n\r\n\t\t\t<Nav.Item>\r\n\t\t\t\t{step2 ? (\r\n\t\t\t\t\t<LinkContainer to=\"/shipping\">\r\n\t\t\t\t\t\t<Nav.Link>Shipping</Nav.Link>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Nav.Link disabled>Shipping</Nav.Link>\r\n\t\t\t\t)}\r\n\t\t\t</Nav.Item>\r\n\r\n\t\t\t<Nav.Item>\r\n\t\t\t\t{step3 ? (\r\n\t\t\t\t\t<LinkContainer to=\"/payment\">\r\n\t\t\t\t\t\t<Nav.Link>Payment</Nav.Link>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Nav.Link disabled>Payment</Nav.Link>\r\n\t\t\t\t)}\r\n\t\t\t</Nav.Item>\r\n\r\n\t\t\t<Nav.Item>\r\n\t\t\t\t{step4 ? (\r\n\t\t\t\t\t<LinkContainer to=\"/placeorder\">\r\n\t\t\t\t\t\t<Nav.Link>Place Order</Nav.Link>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Nav.Link disabled>Place Order</Nav.Link>\r\n\t\t\t\t)}\r\n\t\t\t</Nav.Item>\r\n\t\t</Nav>\r\n\t)\r\n}\r\n\r\nexport default CheckoutSteps\r\n","import React, { useEffect, useState } from 'react'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport FormContainer from '../components/FormContainer/FormContainer'\r\nimport { updateUser } from '../actions/users/updateUser'\r\nimport CheckoutSteps from '../components/CheckoutSteps.tsx/CheckoutSteps'\r\nimport { Helmet } from 'react-helmet'\r\n\r\nconst ShippingScreen = ({ history }) => {\r\n\tconst [street, setStreet] = useState('')\r\n\tconst [sitio, setSitio] = useState('')\r\n\tconst [barangay, setBaranggay] = useState('')\r\n\tconst [city, setCity] = useState('')\r\n\tconst [mobile, setMobile] = useState('')\r\n\tconst dispatch = useDispatch()\r\n\tconst { userInfo } = useSelector((state) => state.user)\r\n\r\n\t// USE EFFECT\r\n\tuseEffect(() => {\r\n\t\tif (userInfo?.shippingAddress) {\r\n\t\t\tconst { street, sitio, barangay, city, mobile } = userInfo.shippingAddress\r\n\t\t\tsetStreet(street)\r\n\t\t\tsetSitio(sitio)\r\n\t\t\tsetBaranggay(barangay)\r\n\t\t\tsetCity(city)\r\n\t\t\tsetMobile(mobile)\r\n\t\t}\r\n\t}, [userInfo])\r\n\r\n\t// HANDLERS\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault()\r\n\t\tdispatch(\r\n\t\t\tupdateUser({\r\n\t\t\t\tshippingAddress: {\r\n\t\t\t\t\tstreet,\r\n\t\t\t\t\tsitio,\r\n\t\t\t\t\tbarangay,\r\n\t\t\t\t\tcity,\r\n\t\t\t\t\tmobile,\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t).then(() => history.push('/payment'))\r\n\t}\r\n\r\n\treturn (\r\n\t\t<FormContainer>\r\n\t\t\t<Helmet>\r\n\t\t\t\t<title>Pro Store | Shipping</title>\r\n\t\t\t\t<meta name=\"description\" content=\"We sell the best milk tea in town\" />\r\n\t\t\t</Helmet>\r\n\t\t\t<CheckoutSteps step1 step2 />\r\n\t\t\t<h1>Shipping Address</h1>\r\n\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t<Form.Group controlId=\"name\">\r\n\t\t\t\t\t<Form.Label id=\"street\">Street / Compound / Residence</Form.Label>\r\n\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tvalue={street}\r\n\t\t\t\t\t\tonChange={(e) => setStreet(e.target.value)}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t<Form.Group controlId=\"sitio\">\r\n\t\t\t\t\t<Form.Label id=\"sitio\">Sitio</Form.Label>\r\n\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tvalue={sitio}\r\n\t\t\t\t\t\tonChange={(e) => setSitio(e.target.value)}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t<Form.Group controlId=\"barangay\">\r\n\t\t\t\t\t<Form.Label id=\"barangay\">Barangay</Form.Label>\r\n\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tvalue={barangay}\r\n\t\t\t\t\t\tonChange={(e) => setBaranggay(e.target.value)}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t<Form.Group controlId=\"city\">\r\n\t\t\t\t\t<Form.Label id=\"barangay\">City</Form.Label>\r\n\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tvalue={city}\r\n\t\t\t\t\t\tonChange={(e) => setCity(e.target.value)}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t<Form.Group controlId=\"mobile\">\r\n\t\t\t\t\t<Form.Label id=\"mobile\">Mobile Number</Form.Label>\r\n\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tvalue={mobile}\r\n\t\t\t\t\t\tonChange={(e) => setMobile(e.target.value)}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Button type=\"submit\" variant=\"secondary\">\r\n\t\t\t\t\tProceed\r\n\t\t\t\t</Button>\r\n\t\t\t</Form>\r\n\t\t</FormContainer>\r\n\t)\r\n}\r\n\r\nexport default ShippingScreen\r\n","import { CART_SAVE_PAYMENT_METHOD } from '../../constants/cartConstants'\r\n\r\nconst savePaymentMethod = (method) => async (dispatch) => {\r\n\tdispatch({ type: CART_SAVE_PAYMENT_METHOD, payload: method })\r\n}\r\n\r\nexport default savePaymentMethod\r\n","import React, { useEffect, useState } from 'react'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\nimport { useDispatch } from 'react-redux'\r\nimport FormContainer from '../components/FormContainer/FormContainer'\r\nimport CheckoutSteps from '../components/CheckoutSteps.tsx/CheckoutSteps'\r\nimport savePaymentMethod from '../actions/cart/savePaymentMethod'\r\nimport { ORDER_PAY_RESET } from '../constants/orderConstants'\r\nimport { Helmet } from 'react-helmet'\r\n\r\nconst PaymentScreen = ({ history }) => {\r\n\tconst [paymentMethod, setPaymentMethod] = useState('')\r\n\r\n\tconst dispatch = useDispatch()\r\n\r\n\t// USE EFFECT\r\n\tuseEffect(() => {\r\n\t\tdispatch({ type: ORDER_PAY_RESET })\r\n\t}, [dispatch])\r\n\r\n\t// HANDLERS\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault()\r\n\t\tdispatch(savePaymentMethod(paymentMethod))\r\n\t\thistory.push('/placeorder')\r\n\t}\r\n\r\n\treturn (\r\n\t\t<FormContainer>\r\n\t\t\t<Helmet>\r\n\t\t\t\t<title>Pro Store | Payment Options</title>\r\n\t\t\t\t<meta name=\"description\" content=\"We sell the best milk tea in town\" />\r\n\t\t\t</Helmet>\r\n\t\t\t<CheckoutSteps step1 step2 step3 />\r\n\t\t\t<h1 style={{ marginBottom: '30px' }}>Payment Method</h1>\r\n\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t<Form.Group>\r\n\t\t\t\t\t<Form.Label as=\"legend\">Select Method</Form.Label>\r\n\r\n\t\t\t\t\t<Form.Check\r\n\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\tid=\"Paypal\"\r\n\t\t\t\t\t\tvalue=\"Paypal\"\r\n\t\t\t\t\t\tname=\"paymentMethod\"\r\n\t\t\t\t\t\tlabel=\"Paypal or Credit Card\"\r\n\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\tsetPaymentMethod(e.target.value)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t></Form.Check>\r\n\r\n\t\t\t\t\t<Form.Check\r\n\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\tid=\"Cash on Delivery\"\r\n\t\t\t\t\t\tvalue=\"Cash on Delivery\"\r\n\t\t\t\t\t\tname=\"paymentMethod\"\r\n\t\t\t\t\t\tlabel=\"Cash on Delivery\"\r\n\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\tsetPaymentMethod(e.target.value)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t></Form.Check>\r\n\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t<Button type=\"submit\" variant=\"secondary\">\r\n\t\t\t\t\tProceed\r\n\t\t\t\t</Button>\r\n\t\t\t</Form>\r\n\t\t</FormContainer>\r\n\t)\r\n}\r\n\r\nexport default PaymentScreen\r\n","import Axios from 'axios'\r\nimport {\r\n\tORDER_CREATE_REQUEST,\r\n\tORDER_CREATE_SUCCESS,\r\n} from '../../constants/orderConstants'\r\nimport { USER_REGISTER_FAIL } from '../../constants/userConstants'\r\n\r\nconst createOrder = (order) => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({ type: ORDER_CREATE_REQUEST })\r\n\t\tconst token = JSON.parse(localStorage.getItem('token'))\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${token}`,\r\n\t\t\t},\r\n\t\t}\r\n\t\tconst { data } = await Axios.post('/api/orders', order, config)\r\n\r\n\t\tdispatch({ type: ORDER_CREATE_SUCCESS, payload: data })\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_REGISTER_FAIL,\r\n\t\t\tpayload: error.response?.data?.message\r\n\t\t\t\t? error.response.data.message\r\n\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default createOrder\r\n","const resetCart = () => async (dispatch, getState) => {\r\n\ttry {\r\n\t\t// DISPATCH AND REMOVE FROM STORAGE\r\n\t\tdispatch({ type: 'CART_RESET' })\r\n\t\tlocalStorage.setItem(\r\n\t\t\t'cartItems',\r\n\t\t\tJSON.stringify(getState().cart.cartItems)\r\n\t\t)\r\n\t} catch (error) {\r\n\t\tconsole.log(error)\r\n\t}\r\n}\r\n\r\nexport default resetCart\r\n","import React, { useEffect, useState } from 'react'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Form from 'react-bootstrap/Form'\r\nimport ListGroup from 'react-bootstrap/ListGroup'\r\nimport Image from 'react-bootstrap/Image'\r\nimport Card from 'react-bootstrap/Card'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport CheckoutSteps from '../components/CheckoutSteps.tsx/CheckoutSteps'\r\nimport Loader from '../components/Loader/Loader'\r\nimport { Link } from 'react-router-dom'\r\nimport createOrder from '../actions/order/createOrder'\r\nimport Message from '../components/Message/Message'\r\nimport resetCart from '../actions/cart/resetCart'\r\nimport { Helmet } from 'react-helmet'\r\n\r\nconst PlaceOrderScreen = ({ history }) => {\r\n\tconst { cartItems, paymentMethod } = useSelector((state) => state.cart)\r\n\tconst { userInfo } = useSelector((state) => state.user)\r\n\tconst { order, loading, createError } = useSelector((state) => state.order)\r\n\tconst [cashOnHand, setCashOnHand] = useState('')\r\n\tconst dispatch = useDispatch()\r\n\r\n\t//USE EFFECT\r\n\tuseEffect(() => {\r\n\t\tif (order) history.push(`/orders/${order._id}/pay`)\r\n\t}, [order, history])\r\n\r\n\t// CALCULATE PRICES\r\n\tconst itemsPrice = cartItems.reduce(\r\n\t\t(acc, item) => acc + item.price * item.qty,\r\n\t\t0\r\n\t)\r\n\tconst shippingPrice = 100\r\n\tconst taxPrice = Number((0.12 * itemsPrice).toFixed(2))\r\n\tconst totalPrice = Math.floor(itemsPrice + shippingPrice + taxPrice)\r\n\r\n\t// FUNCTIONS AND HANDLERS\r\n\tfunction capitalize(s) {\r\n\t\treturn s[0].toUpperCase() + s.slice(1)\r\n\t}\r\n\tconst placeOrderHandler = async (e) => {\r\n\t\te.preventDefault()\r\n\t\tawait dispatch(\r\n\t\t\tcreateOrder({\r\n\t\t\t\tcashOnHand,\r\n\t\t\t\tpaymentMethod,\r\n\t\t\t\titemsPrice,\r\n\t\t\t\tshippingPrice,\r\n\t\t\t\ttaxPrice,\r\n\t\t\t\ttotalPrice,\r\n\t\t\t\torderItems: cartItems,\r\n\t\t\t\tshippingAddress: userInfo.shippingAddress,\r\n\t\t\t})\r\n\t\t)\r\n\t\tawait dispatch(resetCart())\r\n\t}\r\n\r\n\tif (!paymentMethod) history.push('/payment')\r\n\tif (!userInfo) return <Message children=\"Please log in to continue\" />\r\n\tif (loading) return <Loader />\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Helmet>\r\n\t\t\t\t<title>Pro Store | Order Summary</title>\r\n\t\t\t\t<meta name=\"description\" content=\"We sell the best milk tea in town\" />\r\n\t\t\t</Helmet>\r\n\t\t\t<CheckoutSteps step1 step2 step3 step4 />\r\n\r\n\t\t\t<Row>\r\n\t\t\t\t<Col md={8}>\r\n\t\t\t\t\t<ListGroup variant=\"flush\">\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h3>SHIPPING</h3>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<strong>Address: </strong>\r\n\t\t\t\t\t\t\t\t{capitalize(userInfo.shippingAddress.street)},{' '}\r\n\t\t\t\t\t\t\t\t{capitalize(userInfo.shippingAddress.sitio)},{' '}\r\n\t\t\t\t\t\t\t\t{capitalize(userInfo.shippingAddress.barangay)},{' '}\r\n\t\t\t\t\t\t\t\t{capitalize(userInfo.shippingAddress.city)},\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h3>PAYMENT METHOD</h3>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<strong>Pay through: </strong>\r\n\t\t\t\t\t\t\t\t{paymentMethod}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h3>ORDER ITEMS</h3>\r\n\t\t\t\t\t\t\t<ListGroup variant=\"flush\">\r\n\t\t\t\t\t\t\t\t{cartItems.map((item, i) => (\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item key={i}>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col md={2}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Image src={item.image} alt={item.name} fluid rounded />\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Link to={`/products/${item.product}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col md={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{item.qty} x {item.price} = {item.qty * item.price}\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col md={4}>\r\n\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t<ListGroup variant=\"flush\">\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<h4>ORDER SUMMARY</h4>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Items</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>{itemsPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Shipping</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>{shippingPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Tax</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>{taxPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Total</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>{totalPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Form onSubmit={placeOrderHandler}>\r\n\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\tas=\"input\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={cashOnHand}\r\n\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Amount of cash on hand\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setCashOnHand(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t<Button type=\"submit\" className=\"btn-block\">\r\n\t\t\t\t\t\t\t\t\t\tPlace Order\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t</Card>\r\n\r\n\t\t\t\t\t<Card className=\"mt-5\">\r\n\t\t\t\t\t\t<ListGroup variant=\"flush\">\r\n\t\t\t\t\t\t\t<ListGroup.Item variant=\"danger\">\r\n\t\t\t\t\t\t\t\t<h4>NOTICE FOR CASH ON DELIVERY</h4>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\r\n\t\t\t\t\t\t\t<ListGroup.Item variant=\"danger\">\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{`Once order is placed, Please keep your line open\r\n\t\t\t\t\t\t\t\t(MOBILE NO. ${userInfo.shippingAddress.mobile}) for the verification of your delivery \r\n\t\t\t\t\t\t\t\taddress and order. Thank you :) `}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t{createError && (\r\n\t\t\t\t\t\t\t\t\t<Message children={createError} variant=\"danger\" />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t{/* <ListGroup.Item variant=\"info\">\r\n\t\t\t\t\t\t\t\t<strong>Status: Not yet verified</strong>\r\n\t\t\t\t\t\t\t</ListGroup.Item> */}\r\n\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default PlaceOrderScreen\r\n","import Axios from 'axios'\r\nimport {\r\n\tORDER_GET_FAIL,\r\n\tORDER_GET_REQUEST,\r\n\tORDER_GET_SUCCESS,\r\n} from '../../constants/orderConstants'\r\n\r\nconst getOrder = (id) => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({ type: ORDER_GET_REQUEST })\r\n\t\tconst token = JSON.parse(localStorage.getItem('token'))\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${token}`,\r\n\t\t\t},\r\n\t\t}\r\n\t\tconst order = await (await Axios.get(`/api/orders/${id}`, config)).data\r\n\t\tdispatch({ type: ORDER_GET_SUCCESS, payload: order })\r\n\t} catch (error) {\r\n\t\tconsole.log(error)\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_GET_FAIL,\r\n\t\t\tpayload: error.response?.data?.message\r\n\t\t\t\t? error.response.data.message\r\n\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default getOrder\r\n","import Axios from 'axios'\r\nimport {\r\n\tORDER_PAY_FAIL,\r\n\tORDER_PAY_REQUEST,\r\n\tORDER_PAY_SUCCESS,\r\n} from '../../constants/orderConstants'\r\n\r\nconst payOrder = (orderId, paymentResult) => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({ type: ORDER_PAY_REQUEST })\r\n\t\tconst token = JSON.parse(localStorage.getItem('token'))\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${token}`,\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\tconst updatedOrder = await (\r\n\t\t\tawait Axios.put(`/api/orders/${orderId}/pay`, paymentResult, config)\r\n\t\t).data\r\n\t\tdispatch({ type: ORDER_PAY_SUCCESS, payload: updatedOrder })\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_PAY_FAIL,\r\n\t\t\tpayload: error.response?.data?.message\r\n\t\t\t\t? error.response.data.message\r\n\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default payOrder\r\n","import Axios from 'axios'\r\nimport React, { useEffect, useState } from 'react'\r\nimport PaypalExpressBtn from 'react-paypal-express-checkout'\r\nimport Loader from './Loader/Loader'\r\n\r\nconst Paypal = (props) => {\r\n\tconst [clientId, setClientId] = useState('')\r\n\r\n\tuseEffect(() => {\r\n\t\tAxios.get('http://localhost:5000/api/config/paypal').then((res) => {\r\n\t\t\tsetClientId(res.data)\r\n\t\t})\r\n\t}, [])\r\n\r\n\tconst onSuccess = (payment) => {\r\n\t\t// Congratulation, it came here means everything's fine!\r\n\t\tprops.paymentSuccess(payment)\r\n\t\tconsole.log(payment)\r\n\t}\r\n\r\n\tconst onCancel = (data) => {\r\n\t\t// User pressed \"cancel\" or close Paypal's popup!\r\n\t\tconsole.log('The payment was cancelled!', data)\r\n\t\tprops.paymentCancelled(data)\r\n\t}\r\n\r\n\tconst onError = (err) => {\r\n\t\t// The main Paypal's script cannot be loaded or somethings block the loading of that script!\r\n\t\tconsole.log('Error!', err)\r\n\t\tprops.paymentError(err)\r\n\t}\r\n\r\n\tlet env = 'sandbox' // you can set here to 'production' for production\r\n\tlet currency = 'PHP' // or you can set this value from your props or state\r\n\tlet total = props.total\r\n\tif (!clientId) return <Loader />\r\n\r\n\tconst client = {\r\n\t\tsandbox: clientId,\r\n\t\tproduction: 'YOUR-PRODUCTION-APP-ID',\r\n\t}\r\n\r\n\treturn (\r\n\t\t<PaypalExpressBtn\r\n\t\t\tenv={env}\r\n\t\t\tclient={client}\r\n\t\t\tcurrency={currency}\r\n\t\t\ttotal={total}\r\n\t\t\tonError={onError}\r\n\t\t\tonSuccess={onSuccess}\r\n\t\t\tonCancel={onCancel}\r\n\t\t\tstyle={{\r\n\t\t\t\tsize: 'large',\r\n\t\t\t\tcolor: 'blue',\r\n\t\t\t\tshape: 'rect',\r\n\t\t\t\tlabel: 'checkout',\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default Paypal\r\n","import React, { useEffect } from 'react'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport ListGroup from 'react-bootstrap/ListGroup'\r\nimport Image from 'react-bootstrap/Image'\r\nimport Card from 'react-bootstrap/Card'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Loader from '../components/Loader/Loader'\r\nimport { Link } from 'react-router-dom'\r\nimport Message from '../components/Message/Message'\r\nimport getOrder from '../actions/order/getOrder'\r\nimport payOrder from '../actions/order/payOrder'\r\nimport Paypal from '../components/Paypal'\r\nimport Axios from 'axios'\r\nimport { getConfig } from '../utils/utils'\r\nimport { ORDER_GET_FAIL, ORDER_GET_SUCCESS } from '../constants/orderConstants'\r\nimport Button from 'react-bootstrap/esm/Button'\r\nimport { Helmet } from 'react-helmet'\r\n\r\nconst OrderScreen = ({ match, history }) => {\r\n\tconst { userInfo } = useSelector((state) => state.user)\r\n\tconst { order, loading, payLoading, getOrderError } = useSelector(\r\n\t\t(state) => state.order\r\n\t)\r\n\tconst orderId = match.params.orderId\r\n\tconst dispatch = useDispatch()\r\n\r\n\t// USE EFFECT\r\n\tuseEffect(() => {\r\n\t\tif (!order || order._id !== orderId) dispatch(getOrder(orderId))\r\n\t}, [order, orderId, dispatch])\r\n\r\n\tfunction capitalize(s) {\r\n\t\treturn s[0].toUpperCase() + s.slice(1)\r\n\t}\r\n\r\n\t// HANDLERS\r\n\r\n\tconst updateHandler = () => {\r\n\t\tAxios.put(`/api/orders/${orderId}/deliver`, {}, getConfig())\r\n\t\t\t.then((res) => {\r\n\t\t\t\tdispatch(dispatch({ type: ORDER_GET_SUCCESS, payload: res.data }))\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: ORDER_GET_FAIL,\r\n\t\t\t\t\tpayload: error.response?.data?.message\r\n\t\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t\t: error.message,\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t}\r\n\r\n\tconst paymentSuccess = async (payment) => {\r\n\t\tconsole.log(payment)\r\n\t\tconst paymentResult = {\r\n\t\t\tid: payment.paymentID,\r\n\t\t\tstatus: payment.paid ? 'Paid' : 'Not Paid',\r\n\t\t\temail_address: payment.email,\r\n\t\t\tupdate_time: Date.now().toString(),\r\n\t\t}\r\n\t\tdispatch(payOrder(orderId, paymentResult))\r\n\t}\r\n\tconst paymentCancelled = (data) => {}\r\n\tconst paymentError = (error) => {}\r\n\r\n\tif (loading) return <Loader />\r\n\tif (getOrderError) return <Message children={getOrderError} />\r\n\tif (!order) return <Loader />\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Helmet>\r\n\t\t\t\t<title>Pro Store | Order Status</title>\r\n\t\t\t\t<meta name=\"description\" content=\"We sell the best milk tea in town\" />\r\n\t\t\t</Helmet>\r\n\t\t\t<h1>ORDER {orderId.toUpperCase()}</h1>\r\n\t\t\t<Row>\r\n\t\t\t\t<Col md={8}>\r\n\t\t\t\t\t<ListGroup variant=\"flush\">\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h3>SHIPPING</h3>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<strong>Name: </strong> {order.user.name}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<strong>Email: </strong>\r\n\t\t\t\t\t\t\t\t<a href={`mailto:${order.user.email}`}>{order.user.email}</a>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<strong>Mobile No: {order.shippingAddress.mobile} </strong>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<strong>Address: </strong>\r\n\t\t\t\t\t\t\t\t{capitalize(userInfo.shippingAddress.street)},{' '}\r\n\t\t\t\t\t\t\t\t{capitalize(userInfo.shippingAddress.sitio)},{' '}\r\n\t\t\t\t\t\t\t\t{capitalize(userInfo.shippingAddress.barangay)},{' '}\r\n\t\t\t\t\t\t\t\t{capitalize(userInfo.shippingAddress.city)},\r\n\t\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t\t<strong>Delivery status: </strong>\r\n\t\t\t\t\t\t\t{order.isDelivered ? (\r\n\t\t\t\t\t\t\t\t<Message variant=\"success\">\r\n\t\t\t\t\t\t\t\t\tDelivered on: {order.deliveredAt}\r\n\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Message children=\"For Delivery\" variant=\"danger\" />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h3>PAYMENT METHOD</h3>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<strong>Pay through: </strong>\r\n\t\t\t\t\t\t\t\t{order.paymentMethod}\r\n\t\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t\t<strong>Payment status: </strong>\r\n\t\t\t\t\t\t\t{order.isPaid ? (\r\n\t\t\t\t\t\t\t\t<Message variant=\"success\">Paid on: {order.paidAt}</Message>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Message children=\"For Payment\" variant=\"danger\" />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h3>ORDER ITEMS</h3>\r\n\t\t\t\t\t\t\t<ListGroup variant=\"flush\">\r\n\t\t\t\t\t\t\t\t{order.orderItems.map((item, i) => (\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item key={i}>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col md={2}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Image src={item.image} alt={item.name} fluid rounded />\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Link to={`/products/${item.product}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col md={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{item.qty} x {item.price} = {item.qty * item.price}\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col md={4}>\r\n\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t<ListGroup variant=\"flush\">\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<h2>Order Summary</h2>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Items</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>{order.itemsPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Shipping</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>{order.shippingPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Tax</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>{order.taxPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Total</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>{order.totalPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t{!order.isPaid && (\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t{payLoading && <Loader />}\r\n\t\t\t\t\t\t\t\t\t<Paypal\r\n\t\t\t\t\t\t\t\t\t\tpaymentSuccess={paymentSuccess}\r\n\t\t\t\t\t\t\t\t\t\tpaymentCancelled={paymentCancelled}\r\n\t\t\t\t\t\t\t\t\t\tpaymentError={paymentError}\r\n\t\t\t\t\t\t\t\t\t\ttotal={order.totalPrice}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{userInfo?.isAdmin && order.isPaid && !order.isDelivered ? (\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-block\"\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={updateHandler}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tMark Delivered\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default OrderScreen\r\n","import Axios from 'axios'\r\nimport {\r\n\tUSER_LIST_FAIL,\r\n\tUSER_LIST_REQUEST,\r\n\tUSER_LIST_SUCCESS,\r\n} from '../../constants/userConstants'\r\n\r\nconst getUserList = () => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({ type: USER_LIST_REQUEST })\r\n\t\tconst token = JSON.parse(localStorage.getItem('token'))\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${token}`,\r\n\t\t\t},\r\n\t\t}\r\n\t\tconst userList = await (await Axios.get('/api/users', config)).data\r\n\t\tdispatch({ type: USER_LIST_SUCCESS, payload: userList })\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LIST_FAIL,\r\n\t\t\tpayload: error.response?.data?.message\r\n\t\t\t\t? error.response.data.message\r\n\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default getUserList\r\n","import Axios from 'axios'\r\nimport {\r\n\tUSER_DELETE_FAIL,\r\n\tUSER_DELETE_REQUEST,\r\n\tUSER_DELETE_SUCCESS,\r\n} from '../../constants/userConstants'\r\n\r\nconst deleteUser = (id) => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({ type: USER_DELETE_REQUEST })\r\n\t\tconst token = JSON.parse(localStorage.getItem('token'))\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${token}`,\r\n\t\t\t},\r\n\t\t}\r\n\t\tconst message = await (await Axios.delete(`/api/admin/users/${id}`, config))\r\n\t\t\t.data\r\n\t\tdispatch({ type: USER_DELETE_SUCCESS, payload: message })\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DELETE_FAIL,\r\n\t\t\tpayload: error.response?.data?.message\r\n\t\t\t\t? error.response.data.message\r\n\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default deleteUser\r\n","import React, { useEffect } from 'react'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Table from 'react-bootstrap/Table'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Message from '../components/Message/Message'\r\nimport Loader from '../components/Loader/Loader'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport getUserList from '../actions/users/getUserList'\r\nimport deleteUser from '../actions/users/deleteUser'\r\nimport { Helmet } from 'react-helmet'\r\n\r\nconst UserListScreen = ({ history }) => {\r\n\tconst {\r\n\t\tuserInfo,\r\n\t\tuserDeleteResponse,\r\n\t\tuserList,\r\n\t\tuserListLoading,\r\n\t\tuserListError,\r\n\t} = useSelector((state) => state.user)\r\n\tconst dispatch = useDispatch()\r\n\r\n\t// USE EFFECT\r\n\tuseEffect(() => {\r\n\t\tdispatch(getUserList())\r\n\t\tif (userInfo && !userInfo.isAdmin) history.push('/')\r\n\t}, [dispatch, userDeleteResponse, userInfo, history])\r\n\r\n\t// HANDLERS\r\n\tconst deleteHandler = (id) => {\r\n\t\tif (window.confirm('Are you sure to delete the user?'))\r\n\t\t\tdispatch(deleteUser(id))\r\n\t}\r\n\tif (!userInfo)\r\n\t\treturn <Message>Please Log in as Admin, Or go back to home page</Message>\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Helmet>\r\n\t\t\t\t<title>Pro Store | User's List</title>\r\n\t\t\t\t<meta name=\"description\" content=\"We sell the best milk tea in town\" />\r\n\t\t\t</Helmet>\r\n\t\t\t<h1>Users</h1>\r\n\t\t\t{userListLoading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : userListError ? (\r\n\t\t\t\t<Message children={userListError} variant=\"danger\" />\r\n\t\t\t) : (\r\n\t\t\t\t<Table striped hover responsive className=\"table-sm\">\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t<th>NAME</th>\r\n\t\t\t\t\t\t\t<th>EMAIL</th>\r\n\t\t\t\t\t\t\t<th>ADMIN</th>\r\n\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{userList &&\r\n\t\t\t\t\t\t\tuserList.map((user) => (\r\n\t\t\t\t\t\t\t\t<tr key={user._id}>\r\n\t\t\t\t\t\t\t\t\t<td>{user._id}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{user.name}</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<a href={`mailto:${user.email}`}>{user.email}</a>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t{user.isAdmin ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"fas fa-check\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: 'green' }}\r\n\t\t\t\t\t\t\t\t\t\t\t></i>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-times\" style={{ color: 'red' }}></i>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<LinkContainer to={`/admin/users/${user._id}/edit`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button variant=\"info\" className=\"btn-sm\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-edit\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t\t\t{'     '}\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"danger\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn-sm\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => deleteHandler(user._id)}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-trash\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</Table>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default UserListScreen\r\n","import Axios from 'axios'\r\nimport {\r\n\tUSER_DETAILS_FAIL,\r\n\tUSER_DETAILS_REQUEST,\r\n\tUSER_DETAILS_SUCCESS,\r\n} from '../../constants/userConstants'\r\n\r\nexport const getUserDetails = (id) => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({ type: USER_DETAILS_REQUEST })\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${JSON.parse(localStorage.getItem('token'))}`,\r\n\t\t\t},\r\n\t\t}\r\n\t\tconst res = await Axios.get(`/api/admin/users/${id}`, config)\r\n\t\tdispatch({ type: USER_DETAILS_SUCCESS, payload: res.data })\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DETAILS_FAIL,\r\n\t\t\tpayload: error.response?.data?.message\r\n\t\t\t\t? error.response.data.message\r\n\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default getUserDetails\r\n","import React, { useEffect, useState } from 'react'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Message from '../components/Message/Message'\r\nimport Loader from '../components/Loader/Loader'\r\nimport FormContainer from '../components/FormContainer/FormContainer'\r\nimport getUserDetails from '../actions/users/getUserDetails'\r\nimport { USER_DETAILS_SUCCESS } from '../constants/userConstants'\r\nimport { updateUserByAdmin } from '../actions/users/updateUser'\r\nimport { Helmet } from 'react-helmet'\r\n\r\nconst UserEditScreen = ({ match, history, location }) => {\r\n\tconst [name, setName] = useState('')\r\n\tconst [email, setEmail] = useState('')\r\n\tconst [isAdmin, setIsAdmin] = useState(false)\r\n\tconst { userDetails, loading, error } = useSelector((state) => state.user)\r\n\tconst dispatch = useDispatch()\r\n\r\n\t//USE EFFECT\r\n\tuseEffect(() => {\r\n\t\tif (!userDetails) dispatch(getUserDetails(match.params.id))\r\n\t\tif (userDetails) {\r\n\t\t\tsetName(userDetails.name)\r\n\t\t\tsetEmail(userDetails.email)\r\n\t\t\tsetIsAdmin(userDetails.isAdmin)\r\n\t\t}\r\n\t}, [dispatch, userDetails, match])\r\n\r\n\t// HANDLERS\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault()\r\n\t\tdispatch(updateUserByAdmin({ name, email, isAdmin }, match.params.id))\r\n\t}\r\n\r\n\tconst handleBack = (e) => {\r\n\t\te.preventDefault()\r\n\t\thistory.push('/admin/userlist')\r\n\t\tdispatch({ type: USER_DETAILS_SUCCESS, payload: null })\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Helmet>\r\n\t\t\t\t<title>Pro Store | Edit User </title>\r\n\t\t\t\t<meta name=\"description\" content=\"We sell the best milk tea in town\" />\r\n\t\t\t</Helmet>\r\n\t\t\t<Button className=\"btn btn-light my-3\" onClick={handleBack}>\r\n\t\t\t\tGo Back\r\n\t\t\t</Button>\r\n\r\n\t\t\t<FormContainer>\r\n\t\t\t\t<h1>Edit User</h1>\r\n\t\t\t\t{error && <Message children={error} variant=\"info\" />}\r\n\t\t\t\t{loading && <Loader />}\r\n\t\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t\t<Form.Group controlId=\"name\">\r\n\t\t\t\t\t\t<Form.Label id=\"name\">Name</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\tplaceholder=\"Enter name\"\r\n\t\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\r\n\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group controlId=\"email\">\r\n\t\t\t\t\t\t<Form.Label id=\"email\">Email Address</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\tplaceholder=\"Enter email\"\r\n\t\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\r\n\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group controlId=\"email\">\r\n\t\t\t\t\t\t<Form.Label id=\"email\">Email Address</Form.Label>\r\n\t\t\t\t\t\t<Form.Check\r\n\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\tlabel=\"Is Admin\"\r\n\t\t\t\t\t\t\tchecked={isAdmin}\r\n\t\t\t\t\t\t\tonChange={(e) => setIsAdmin(e.target.checked)}\r\n\t\t\t\t\t\t></Form.Check>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Button type=\"submit\" variant=\"secondary\">\r\n\t\t\t\t\t\tUpdate\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form>\r\n\t\t\t</FormContainer>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default UserEditScreen\r\n","import React, { useEffect, useState } from 'react'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Table from 'react-bootstrap/Table'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport { useSelector } from 'react-redux'\r\nimport Message from '../components/Message/Message'\r\nimport Loader from '../components/Loader/Loader'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport Axios from 'axios'\r\nimport { getConfig } from '../utils/utils'\r\nimport Paginate from '../components/Paginate'\r\nimport { Helmet } from 'react-helmet'\r\n\r\nconst ProductListScreen = ({ history }) => {\r\n\tconst [loading, setLoading] = useState(false)\r\n\tconst [error] = useState(null)\r\n\tconst [products, setProducts] = useState([])\r\n\r\n\tconst [pageSize] = useState(12)\r\n\tconst [page, setPage] = useState(1)\r\n\tconst [totalPages, setTotalPages] = useState(null)\r\n\r\n\tconst [deleteError, setDeleteError] = useState('')\r\n\tconst { userInfo } = useSelector((state) => state.user)\r\n\r\n\tconst getProducts = (options) => {\r\n\t\tsetLoading(true)\r\n\t\tAxios.post(`/api/products`, options, getConfig())\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProducts(res.data.products)\r\n\t\t\t\tsetTotalPages(res.data.totalPages)\r\n\t\t\t\tsetLoading(false)\r\n\t\t\t})\r\n\t\t\t.catch((e) => {\r\n\t\t\t\tsetLoading(false)\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t})\r\n\t}\r\n\t// USE EFFECT\r\n\tuseEffect(() => {\r\n\t\tconst options = {\r\n\t\t\tpageSize,\r\n\t\t\tpage,\r\n\t\t}\r\n\t\tgetProducts(options)\r\n\t\tif (userInfo && !userInfo.isAdmin) history.push('/')\r\n\t}, [userInfo, history, pageSize, page])\r\n\r\n\t// HANDLERS\r\n\tconst deleteHandler = async (id) => {\r\n\t\ttry {\r\n\t\t\tif (window.confirm('Are you sure to delete this product?')) {\r\n\t\t\t\tconst config = getConfig()\r\n\t\t\t\tawait Axios.delete(`/api/admin/products/${id}`, config)\r\n\t\t\t\tgetProducts({ pageSize, page })\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tsetDeleteError(error)\r\n\t\t}\r\n\t}\r\n\tconst createProductHandler = (e) => {\r\n\t\thistory.push(`/admin/products/createProduct/edit`)\r\n\t}\r\n\r\n\tconst handleSetPage = (page) => {\r\n\t\tsetPage(page)\r\n\t\tconst options = {\r\n\t\t\tpageSize,\r\n\t\t\tpage,\r\n\t\t}\r\n\t\tgetProducts(options)\r\n\t}\r\n\r\n\tif (!userInfo)\r\n\t\treturn <Message>Please Log in as Admin, Or go back to home page</Message>\r\n\tif (deleteError) return <Message children={deleteError} variant=\"warning\" />\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Helmet>\r\n\t\t\t\t<title>Pro Store | Product List</title>\r\n\t\t\t\t<meta name=\"description\" content=\"We sell the best milk tea in town\" />\r\n\t\t\t</Helmet>\r\n\t\t\t<Row className=\"align-items-center\">\r\n\t\t\t\t<Col>\r\n\t\t\t\t\t<h1>Products</h1>\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col className=\"text-right\">\r\n\t\t\t\t\t<Button className=\"my-3\" onClick={createProductHandler}>\r\n\t\t\t\t\t\t<i className=\"fas fa-plus\"></i>\r\n\t\t\t\t\t\tCreate Product\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : error ? (\r\n\t\t\t\t<Message children={error} variant=\"danger\" />\r\n\t\t\t) : (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Table striped hover responsive className=\"table-sm\">\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t<th>NAME</th>\r\n\t\t\t\t\t\t\t\t<th>PRICE</th>\r\n\t\t\t\t\t\t\t\t<th>CATEGORY</th>\r\n\t\t\t\t\t\t\t\t<th>BRAND</th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{products &&\r\n\t\t\t\t\t\t\t\tproducts.map((product) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<tr key={product._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{product._id}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{product.name}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{product.price}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{product.category}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{product.brand}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LinkContainer\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tto={`/admin/products/${product._id}/edit`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant=\"info\" className=\"btn-sm\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-edit\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{'     '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"danger\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn-sm\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => deleteHandler(product._id)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-trash\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t\t<Paginate\r\n\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\ttotalPages={totalPages}\r\n\t\t\t\t\t\tsetPage={handleSetPage}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default ProductListScreen\r\n","import React, { useEffect, useState } from 'react'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Message from '../components/Message/Message'\r\nimport Loader from '../components/Loader/Loader'\r\nimport FormContainer from '../components/FormContainer/FormContainer'\r\nimport Axios from 'axios'\r\nimport { getConfig } from '../utils/utils'\r\nimport { Helmet } from 'react-helmet'\r\n\r\nconst ProductEditScreen = ({ match, history }) => {\r\n\tconst [product, setProduct] = useState({\r\n\t\tname: '',\r\n\t\tcategory: '',\r\n\t\tbrand: '',\r\n\t\tdescription: '',\r\n\t\tprice: '',\r\n\t\tcountInStock: '',\r\n\t\timage: '',\r\n\t})\r\n\tconst [isCreateProduct, setIsCreateProduct] = useState(true)\r\n\tconst [uploading, setUploading] = useState(false)\r\n\tconst [loading, setLoading] = useState(false)\r\n\tconst [error, setError] = useState(null)\r\n\tconst { userInfo } = useSelector((state) => state.user)\r\n\r\n\tconst dispatch = useDispatch()\r\n\tconst productId = match.params.id\r\n\r\n\t//USE EFFECT\r\n\tuseEffect(() => {\r\n\t\tif (productId !== 'createProduct') {\r\n\t\t\tsetIsCreateProduct(false)\r\n\t\t\tsetLoading(true)\r\n\t\t\tAxios.get(`/api/products/${productId}`)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false)\r\n\t\t\t\t\tsetProduct(res.data)\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) =>\r\n\t\t\t\t\tsetError(\r\n\t\t\t\t\t\terror.response?.data?.message\r\n\t\t\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t\t\t: error.message\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t}\r\n\t}, [dispatch, match, productId])\r\n\r\n\t// HANDLERS\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault()\r\n\r\n\t\t// IF CREATE NEW PRODUCT\r\n\t\tif (isCreateProduct) {\r\n\t\t\tconst newProduct = {\r\n\t\t\t\t...product,\r\n\t\t\t\tuser: userInfo._id,\r\n\t\t\t}\r\n\r\n\t\t\tsetLoading(true)\r\n\t\t\tAxios.post('/api/admin/products', newProduct, getConfig())\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false)\r\n\r\n\t\t\t\t\thistory.push(`/admin/products/${res.data._id}/edit`)\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tsetLoading(false)\r\n\t\t\t\t\tsetError(\r\n\t\t\t\t\t\terror.response?.data?.message\r\n\t\t\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t\t\t: error.message\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t}\r\n\t\t// IF EDIT PRODUCT\r\n\t\tif (!isCreateProduct) {\r\n\t\t\tconst updatedProduct = {\r\n\t\t\t\tname: product.name,\r\n\t\t\t\tcategory: product.category,\r\n\t\t\t\tbrand: product.brand,\r\n\t\t\t\tdescription: product.description,\r\n\t\t\t\tprice: product.price,\r\n\t\t\t\tcountInStock: product.countInStock,\r\n\t\t\t\timage: product.image,\r\n\t\t\t}\r\n\t\t\tsetLoading(true)\r\n\r\n\t\t\tAxios.put(`/api/admin/products/${productId}`, updatedProduct, getConfig())\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false)\r\n\t\t\t\t\tsetProduct(res.data)\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tsetLoading(false)\r\n\t\t\t\t\tsetError(\r\n\t\t\t\t\t\terror.response?.data?.message\r\n\t\t\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t\t\t: error.message\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tconst uploadFileHandler = async (e) => {\r\n\t\tconst file = e.target.files[0]\r\n\t\tconst formData = new FormData()\r\n\t\tformData.append('image', file)\r\n\r\n\t\tsetUploading(true)\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\tAuthorization: `Bearer ${JSON.parse(localStorage.getItem('token'))}`,\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tconst imageUrl = await (\r\n\t\t\t\tawait Axios.post('/api/uploads', formData, config)\r\n\t\t\t).data\r\n\t\t\tsetProduct({ ...product, image: imageUrl })\r\n\t\t\tsetUploading(false)\r\n\t\t} catch (error) {\r\n\t\t\tsetUploading(false)\r\n\t\t\tsetError(\r\n\t\t\t\terror.response?.data?.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleBack = (e) => {\r\n\t\te.preventDefault()\r\n\t\thistory.push('/admin/productlist')\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Helmet>\r\n\t\t\t\t<title>Pro Store | Edit Product</title>\r\n\t\t\t\t<meta name=\"description\" content=\"We sell the best milk tea in town\" />\r\n\t\t\t</Helmet>\r\n\t\t\t<Button className=\"btn btn-light my-3\" onClick={handleBack}>\r\n\t\t\t\tGo Back\r\n\t\t\t</Button>\r\n\r\n\t\t\t<FormContainer>\r\n\t\t\t\t<h1>{isCreateProduct ? 'Create Product' : 'Edit Product'}</h1>\r\n\t\t\t\t{error && <Message children={error} variant=\"info\" />}\r\n\t\t\t\t{loading && <Loader />}\r\n\t\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Form.Label>Name</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tvalue={product.name}\r\n\t\t\t\t\t\t\tplaceholder=\"Enter name\"\r\n\t\t\t\t\t\t\tonChange={(e) => setProduct({ ...product, name: e.target.value })}\r\n\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Form.Label>Price</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tvalue={product.price}\r\n\t\t\t\t\t\t\tplaceholder=\"Enter price\"\r\n\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\tsetProduct({ ...product, price: e.target.value })\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Form.Label>Image</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tvalue={product.image}\r\n\t\t\t\t\t\t\tplaceholder=\"Enter image url\"\r\n\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\tsetProduct({ ...product, image: e.target.value })\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t<Form.File\r\n\t\t\t\t\t\t\tid=\"image-file\"\r\n\t\t\t\t\t\t\tlabel=\"Choose File\"\r\n\t\t\t\t\t\t\tcustom\r\n\t\t\t\t\t\t\tonChange={uploadFileHandler}\r\n\t\t\t\t\t\t></Form.File>\r\n\t\t\t\t\t\t{uploading && <Loader />}\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Form.Label>Brand</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tvalue={product.brand}\r\n\t\t\t\t\t\t\tplaceholder=\"Enter brand\"\r\n\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\tsetProduct({ ...product, brand: e.target.value })\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Form.Label>Category</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tvalue={product.category}\r\n\t\t\t\t\t\t\tplaceholder=\"Enter category\"\r\n\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\tsetProduct({ ...product, category: e.target.value })\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Form.Label>Count in Stock</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tvalue={product.countInStock}\r\n\t\t\t\t\t\t\tplaceholder=\"Enter count in stock\"\r\n\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\tsetProduct({ ...product, countInStock: e.target.value })\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Form.Label>Description</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tvalue={product.description}\r\n\t\t\t\t\t\t\tplaceholder=\"Enter description\"\r\n\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\tsetProduct({ ...product, description: e.target.value })\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Button type=\"submit\" variant=\"secondary\">\r\n\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form>\r\n\t\t\t</FormContainer>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default ProductEditScreen\r\n","import React, { useEffect, useState } from 'react'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Table from 'react-bootstrap/Table'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Message from '../components/Message/Message'\r\nimport Loader from '../components/Loader/Loader'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport Axios from 'axios'\r\nimport { getConfig } from '../utils/utils'\r\nimport { Helmet } from 'react-helmet'\r\n\r\nconst UserListScreen = ({ history }) => {\r\n\tconst [orders, setOrders] = useState([])\r\n\tconst [loading, setLoading] = useState(false)\r\n\tconst [error, setError] = useState('')\r\n\tconst { userInfo } = useSelector((state) => state.user)\r\n\tconst dispatch = useDispatch()\r\n\r\n\t// USE EFFECT\r\n\tuseEffect(() => {\r\n\t\tsetLoading(true)\r\n\t\tAxios.get('/api/admin/orders', getConfig())\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetOrders(res.data)\r\n\t\t\t\tsetLoading(false)\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tsetLoading(false)\r\n\t\t\t\tsetError(\r\n\t\t\t\t\terror.response?.data?.message\r\n\t\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t\t: error.message\r\n\t\t\t\t)\r\n\t\t\t})\r\n\t\tif (userInfo && !userInfo.isAdmin) history.push('/')\r\n\t}, [dispatch, userInfo, history])\r\n\r\n\t// HANDLERS\r\n\t/* const deleteHandler = (id) => {} */\r\n\tif (!userInfo)\r\n\t\treturn <Message>Please Log in as Admin, Or go back to home page</Message>\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Helmet>\r\n\t\t\t\t<title>Pro Store | Order List</title>\r\n\t\t\t\t<meta name=\"description\" content=\"We sell the best milk tea in town\" />\r\n\t\t\t</Helmet>\r\n\t\t\t<h1>ORDERS</h1>\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : error ? (\r\n\t\t\t\t<Message children={error} variant=\"danger\" />\r\n\t\t\t) : (\r\n\t\t\t\t<Table striped hover responsive className=\"table-sm\">\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t<th>CLIENT NAME</th>\r\n\t\t\t\t\t\t\t<th>DATE</th>\r\n\t\t\t\t\t\t\t<th>TOTAL</th>\r\n\t\t\t\t\t\t\t<th>COH</th>\r\n\t\t\t\t\t\t\t{/* \t<th>CHANGE</th> */}\r\n\t\t\t\t\t\t\t<th>PAID</th>\r\n\t\t\t\t\t\t\t<th>DELIVERED</th>\r\n\t\t\t\t\t\t\t<th>ACTIONS</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{orders &&\r\n\t\t\t\t\t\t\torders.map((order) => (\r\n\t\t\t\t\t\t\t\t<tr key={order._id}>\r\n\t\t\t\t\t\t\t\t\t<td\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\twordWrap: 'break-word',\r\n\t\t\t\t\t\t\t\t\t\t\tminWidth: '100px',\r\n\t\t\t\t\t\t\t\t\t\t\tmaxWidth: '100px',\r\n\t\t\t\t\t\t\t\t\t\t\t/* overflow: 'hidden', */\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{order._id}\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>{order.user.name}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{order.createdAt.substring(0, 10)}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{order.totalPrice}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{order.cashOnHand}</td>\r\n\t\t\t\t\t\t\t\t\t{/* <td>{order.change}</td> */}\r\n\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t{order.isPaid ? (\r\n\t\t\t\t\t\t\t\t\t\t\torder.paidAt.substring(0, 10)\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-times\" style={{ color: 'red' }}></i>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t{order.isDelivered ? (\r\n\t\t\t\t\t\t\t\t\t\t\torder.deliveredAt.substring(0, 10)\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-times\" style={{ color: 'red' }}></i>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<LinkContainer to={`/orders/${order._id}/pay`}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button variant=\"info\" className=\"btn-sm\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tDetails\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</Table>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default UserListScreen\r\n","import React, { useEffect } from 'react'\r\nimport Container from 'react-bootstrap/Container'\r\nimport { BrowserRouter, Route } from 'react-router-dom'\r\nimport './app.css'\r\nimport Footer from './components/Footer/Footer'\r\nimport Header from './components/Header/Header'\r\nimport CartScreen from './screens/CartScreen'\r\nimport Home from './screens/HomeScreen'\r\nimport LoginScreen from './screens/LoginScreen'\r\nimport ProductDetail from './screens/ProductDetailScreen'\r\nimport ProfileScreen from './screens/ProfileScreen'\r\nimport RegisterScreen from './screens/RegisterScreen'\r\nimport { useDispatch } from 'react-redux'\r\nimport { authUser } from './actions/users/loginUser'\r\nimport ShippingScreen from './screens/ShippingScreen'\r\nimport PaymentScreen from './screens/PaymentScreen'\r\nimport PlaceOrderScreen from './screens/PlaceOrderScreen'\r\nimport OrderScreen from './screens/OrderScreen'\r\nimport UserListScreen from './screens/UserListScreen'\r\nimport UserEditScreen from './screens/UserEditScreen'\r\nimport ProductListScreen from './screens/ProductListScreen'\r\nimport ProductEditScreen from './screens/ProductEditScreen'\r\nimport OrderListScreen from './screens/OrderListScreen'\r\n\r\nconst App = () => {\r\n\tconst dispatch = useDispatch()\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(authUser())\r\n\t}, [dispatch])\r\n\r\n\treturn (\r\n\t\t<BrowserRouter>\r\n\t\t\t<Header />\r\n\r\n\t\t\t<main className=\"py-3\">\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t<Route path=\"/orders/:orderId/pay\" component={OrderScreen} />\r\n\t\t\t\t\t<Route path=\"/admin/users/:id/edit\" component={UserEditScreen} />\r\n\t\t\t\t\t<Route\r\n\t\t\t\t\t\tpath=\"/admin/products/:id/edit\"\r\n\t\t\t\t\t\tcomponent={ProductEditScreen}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Route path=\"/admin/orderlist\" component={OrderListScreen} />\r\n\t\t\t\t\t<Route\r\n\t\t\t\t\t\tpath=\"/admin/productlist\"\r\n\t\t\t\t\t\tcomponent={ProductListScreen}\r\n\t\t\t\t\t\texact\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Route path=\"/admin/userlist\" component={UserListScreen} />\r\n\t\t\t\t\t<Route path=\"/placeorder\" component={PlaceOrderScreen} />\r\n\t\t\t\t\t<Route path=\"/payment\" component={PaymentScreen} />\r\n\t\t\t\t\t<Route path=\"/shipping\" component={ShippingScreen} />\r\n\t\t\t\t\t<Route path=\"/products/:id\" component={ProductDetail} />\r\n\t\t\t\t\t<Route path=\"/cart/:id?\" component={CartScreen} />\r\n\t\t\t\t\t<Route path=\"/login\" component={LoginScreen} />\r\n\t\t\t\t\t<Route path=\"/register\" component={RegisterScreen} />\r\n\t\t\t\t\t<Route path=\"/profile\" component={ProfileScreen} />\r\n\t\t\t\t\t<Route path=\"/search/:keyword\" component={Home} exact />\r\n\t\t\t\t\t<Route path=\"/\" exact component={Home} />\r\n\t\t\t\t</Container>\r\n\t\t\t</main>\r\n\t\t\t<Footer />\r\n\t\t</BrowserRouter>\r\n\t)\r\n}\r\n\r\nexport default App\r\n","import {\r\n\tPRODUCT_LIST_FAIL,\r\n\tPRODUCT_LIST_REQUEST,\r\n\tPRODUCT_LIST_SUCCESS,\r\n} from '../../constants/productConst'\r\n\r\ninterface Action {\r\n\ttype: string\r\n\tpayload: any\r\n}\r\n\r\nconst productListReducer = (\r\n\tstate = {\r\n\t\tproducts: [],\r\n\t\tloading: false,\r\n\t\terror: null,\r\n\t},\r\n\taction: Action\r\n) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_LIST_REQUEST: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: true,\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase PRODUCT_LIST_SUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tproducts: action.payload.products,\r\n\t\t\t\ttotalPages: action.payload.totalPages,\r\n\t\t\t\tpage: action.payload.page,\r\n\t\t\t\tloading: false,\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase PRODUCT_LIST_FAIL: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t}\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport default productListReducer\r\n","import {\r\n\tPRODUCT_DETAILS_FAIL,\r\n\tPRODUCT_DETAILS_REQUEST,\r\n\tPRODUCT_DETAILS_SUCCESS,\r\n} from '../../constants/productConst'\r\n\r\nconst productDetailsReducer = (\r\n\tstate = {\r\n\t\tproduct: null,\r\n\t\tloading: false,\r\n\t\terror: null,\r\n\t},\r\n\taction\r\n) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_DETAILS_REQUEST: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: true,\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase PRODUCT_DETAILS_SUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tproduct: action.payload,\r\n\t\t\t\tloading: false,\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase PRODUCT_DETAILS_FAIL: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t}\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\nexport default productDetailsReducer\r\n","import {\r\n\tCART_ADD_ITEM,\r\n\tCART_REMOVE_ITEM,\r\n\tCART_SAVE_PAYMENT_METHOD,\r\n} from '../../constants/cartConstants'\r\n\r\nconst cartReducer = (state = { cartItems: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase CART_ADD_ITEM: {\r\n\t\t\tconst newItem = action.payload\r\n\r\n\t\t\t// if newItem is already in the cartItems, then replace the old item with the new one\r\n\t\t\t// product in here is the product id\r\n\t\t\tconst itemExists = state.cartItems.find(\r\n\t\t\t\t(currentItem) => currentItem.product === newItem.product\r\n\t\t\t)\r\n\t\t\tif (itemExists) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tcartItems: [...state.cartItems].map((currentItem) =>\r\n\t\t\t\t\t\tcurrentItem.product === newItem.product\r\n\t\t\t\t\t\t\t? newItem\r\n\t\t\t\t\t\t\t: currentItem\r\n\t\t\t\t\t),\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcartItems: [...state.cartItems, newItem],\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase CART_REMOVE_ITEM: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcartItems: [...state.cartItems].filter(\r\n\t\t\t\t\t(item) => item.product !== action.payload\r\n\t\t\t\t),\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase CART_SAVE_PAYMENT_METHOD: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpaymentMethod: action.payload,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase 'CART_RESET': {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcartItems: [],\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport default cartReducer\r\n","import {\r\n\tUSER_AUTH_FAIL,\r\n\tUSER_AUTH_SUCCESS,\r\n\tUSER_LIST_FAIL,\r\n\tUSER_LIST_REQUEST,\r\n\tUSER_LIST_SUCCESS,\r\n\tUSER_LOGIN_FAIL,\r\n\tUSER_LOGIN_REQUEST,\r\n\tUSER_LOGIN_SUCCESS,\r\n\tUSER_LOGOUT,\r\n\tUSER_LOGOUT_FAIL,\r\n\tUSER_REGISTER_FAIL,\r\n\tUSER_REGISTER_REQUEST,\r\n\tUSER_REGISTER_SUCCESS,\r\n\tUSER_UPDATE_FAIL,\r\n\tUSER_UPDATE_REQUEST,\r\n\tUSER_UPDATE_RESET,\r\n\tUSER_UPDATE_SUCCESS,\r\n\tUSER_DELETE_SUCCESS,\r\n\tUSER_DELETE_REQUEST,\r\n\tUSER_DELETE_FAIL,\r\n\tUSER_DETAILS_REQUEST,\r\n\tUSER_DETAILS_SUCCESS,\r\n\tUSER_DETAILS_FAIL,\r\n} from '../../constants/userConstants'\r\n\r\nconst userReducer = (\r\n\tstate = {\r\n\t\tuserInfo: null,\r\n\t\tloading: false,\r\n\t\terror: null,\r\n\t\tauthError: null,\r\n\t\tloginError: null,\r\n\t\tregisterError: null,\r\n\t\tupdateError: null,\r\n\t\tuserList: [],\r\n\t\tuserListLoading: null,\r\n\t\tuserListError: null,\r\n\t\tuserDeleteResponse: null,\r\n\t\tuserDeleteLoading: false,\r\n\t\tuserDeleteError: null,\r\n\t\tuserDetails: null,\r\n\t},\r\n\taction\r\n) => {\r\n\tswitch (action.type) {\r\n\t\t// USER DETAIL\r\n\t\tcase USER_DETAILS_REQUEST: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuserDetails: null,\r\n\t\t\t\tloading: true,\r\n\t\t\t\terror: null,\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase USER_DETAILS_SUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuserDetails: action.payload,\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: null,\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase USER_DETAILS_FAIL: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuserDetails: null,\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// USER DELETE\r\n\t\tcase USER_DELETE_REQUEST: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuserDeleteLoading: true,\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase USER_DELETE_SUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuserDeleteLoading: false,\r\n\t\t\t\tuserDeleteResponse: action.payload,\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase USER_DELETE_FAIL: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuserDeleteLoading: false,\r\n\t\t\t\tuserDeleteError: action.payload,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// USER LIST\r\n\t\tcase USER_LIST_REQUEST: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuserListLoading: true,\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase USER_LIST_SUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuserListLoading: false,\r\n\t\t\t\tuserList: action.payload,\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase USER_LIST_FAIL: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuserListLoading: false,\r\n\t\t\t\tuserListError: action.payload,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// USER_AUTH\r\n\t\tcase USER_AUTH_SUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuserInfo: action.payload,\r\n\t\t\t\terror: null,\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase USER_AUTH_FAIL: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tauthError: action.payload,\r\n\t\t\t}\r\n\t\t}\r\n\t\t// USER LOGIN\r\n\t\tcase USER_LOGIN_REQUEST: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: true,\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase USER_LOGIN_SUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tuserInfo: action.payload,\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase USER_LOGIN_FAIL: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tloginError: action.payload,\r\n\t\t\t}\r\n\t\t}\r\n\t\t// USER LOGOUT\r\n\t\tcase USER_LOGOUT: {\r\n\t\t\treturn {}\r\n\t\t}\r\n\t\tcase USER_LOGOUT_FAIL: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t}\r\n\t\t}\r\n\t\t// USER REGISTER\r\n\t\tcase USER_REGISTER_REQUEST: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: true,\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase USER_REGISTER_SUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuserInfo: action.payload,\r\n\t\t\t\tloading: false,\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase USER_REGISTER_FAIL: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tregisterError: action.payload,\r\n\t\t\t}\r\n\t\t}\r\n\t\t// USER UPDATE\r\n\t\tcase USER_UPDATE_REQUEST: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: true,\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase USER_UPDATE_SUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tuserInfo: action.payload,\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase USER_UPDATE_FAIL: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tupdateError: action.payload,\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase USER_UPDATE_RESET: {\r\n\t\t\treturn {\r\n\t\t\t\tuserInfo: null,\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: null,\r\n\t\t\t}\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport default userReducer\r\n","import {\r\n\tORDER_CREATE_FAIL,\r\n\tORDER_CREATE_REQUEST,\r\n\tORDER_CREATE_SUCCESS,\r\n\tORDER_GET_FAIL,\r\n\tORDER_GET_REQUEST,\r\n\tORDER_GET_SUCCESS,\r\n\tORDER_PAY_FAIL,\r\n\tORDER_PAY_REQUEST,\r\n\tORDER_PAY_SUCCESS,\r\n\tORDER_PAY_RESET,\r\n\tORDERS_BYUSER_REQUEST,\r\n\tORDERS_BYUSER_SUCCESS,\r\n\tORDERS_BYUSER_FAIL,\r\n} from '../../constants/orderConstants'\r\n\r\nconst orderReducer = (\r\n\tstate = {\r\n\t\torder: null,\r\n\t\tloading: false,\r\n\t\tpayLoading: false,\r\n\t\tcreateError: null,\r\n\t\tgetOrderError: null,\r\n\t\torderPayError: null,\r\n\t\tuserOrders: null,\r\n\t\tuserOrdersLoading: null,\r\n\t\tuserOrdersError: null,\r\n\t},\r\n\taction\r\n) => {\r\n\tswitch (action.type) {\r\n\t\t// CREATE ORDER\r\n\t\tcase ORDER_CREATE_REQUEST: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: true,\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase ORDER_CREATE_SUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\torder: action.payload,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tcreateError: null,\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase ORDER_CREATE_FAIL: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tcreateError: action.payload,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// GET ORDER DETAILS\r\n\t\tcase ORDER_GET_REQUEST: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: true,\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase ORDER_GET_SUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\torder: action.payload,\r\n\t\t\t\tloading: false,\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase ORDER_GET_FAIL: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tgetOrderError: action.payload,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// PAY ORDER\r\n\t\tcase ORDER_PAY_REQUEST: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpayLoading: true,\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase ORDER_PAY_SUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\torder: action.payload,\r\n\t\t\t\tpayLoading: false,\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase ORDER_PAY_FAIL: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpayLoading: false,\r\n\t\t\t\torderPayError: action.payload,\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase ORDER_PAY_RESET: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\torder: null,\r\n\t\t\t\tpayLoading: false,\r\n\t\t\t\torderPayError: null,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// GET ORDERS\r\n\t\tcase ORDERS_BYUSER_REQUEST: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuserOrdersLoading: true,\r\n\t\t\t\tuserOrdersError: null,\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase ORDERS_BYUSER_SUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuserOrdersLoading: false,\r\n\t\t\t\tuserOrders: action.payload,\r\n\t\t\t\tuserOrdersError: null,\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase ORDERS_BYUSER_FAIL: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuserOrdersLoading: false,\r\n\t\t\t\tuserOrdersError: action.payload,\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase 'ORDERS_BYUSER_RESET': {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuserOrdersLoading: false,\r\n\t\t\t\tuserOrders: [],\r\n\t\t\t\tuserOrdersError: null,\r\n\t\t\t}\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport default orderReducer\r\n","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport productListReducer from '../reducers/products/productListReducer'\r\nimport productDetailsReducer from '../reducers/products/productDetailsReducer'\r\nimport cartReducer from '../reducers/cart/cartReducer'\r\nimport userReducer from '../reducers/users/userReducer'\r\nimport orderReducer from '../reducers/order/orderReducer'\r\n\r\n// RETREIVING ITEMS FROM STORAGE\r\nconst cartItemsFromStorage = localStorage.getItem('cartItems')\r\n\t? JSON.parse(localStorage.getItem('cartItems'))\r\n\t: []\r\n\r\n// INITIAL STATE\r\nconst initialState = {\r\n\tcart: {\r\n\t\tcartItems: cartItemsFromStorage,\r\n\t},\r\n}\r\n// ROOT REDUCER\r\nconst rootReducer = combineReducers({\r\n\tproductList: productListReducer,\r\n\tproductDetails: productDetailsReducer,\r\n\tcart: cartReducer,\r\n\tuser: userReducer,\r\n\torder: orderReducer,\r\n})\r\n// STORE\r\nconst middleware = [thunk]\r\nconst store = createStore(\r\n\trootReducer,\r\n\tinitialState,\r\n\tcomposeWithDevTools(applyMiddleware(...middleware))\r\n)\r\n\r\nexport default store\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './csstheme/bootstrap.min.css'\nimport './index.css'\nimport App from './App'\n\nimport { Provider } from 'react-redux'\nimport store from './store/store'\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>,\n\n\tdocument.getElementById('root')\n)\n"],"sourceRoot":""}